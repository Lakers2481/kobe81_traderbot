[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Warning filters - suppress known third-party library deprecation warnings
filterwarnings =
    # Ignore pandas_datareader distutils deprecation (third-party library issue)
    ignore:distutils Version classes are deprecated:DeprecationWarning:pandas_datareader
    # Ignore yfinance internal warnings
    ignore::DeprecationWarning:yfinance
    # Ignore datetime.utcnow() deprecation in Python 3.12+ (used throughout codebase)
    ignore:datetime.datetime.utcnow:DeprecationWarning
    ignore:datetime.datetime.utcfromtimestamp:DeprecationWarning
    # Ignore asyncio deprecation warnings from third-party libs
    ignore::DeprecationWarning:asyncio
    # Convert other deprecation warnings to errors so we catch our own issues
    error::DeprecationWarning
    # Ignore FutureWarning from pandas (common in data science libs)
    ignore::FutureWarning:pandas
    ignore::FutureWarning:numpy

# Markers
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests

# Output options
addopts = -v --tb=short

# Timeout for long-running tests (optional, requires pytest-timeout)
# timeout = 300
