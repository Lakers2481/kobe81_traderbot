============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\Owner\AppData\Local\Programs\Python\Python311\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Owner\OneDrive\Desktop\kobe81_traderbot
configfile: pytest.ini
testpaths: tests
plugins: anyio-3.7.1, langsmith-0.6.1, asyncio-1.1.1, cov-4.1.0, mock-3.15.1, requests-mock-1.12.1, typeguard-4.4.4
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1683 items

tests/altdata/test_market_mood_analyzer.py::TestMoodState::test_mood_state_values PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestMarketMood::test_market_mood_to_dict PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestMarketMood::test_market_mood_default_timestamp PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestMarketMoodAnalyzer::test_initialization_defaults PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestMarketMoodAnalyzer::test_initialization_custom_weights PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestMarketMoodAnalyzer::test_weights_normalized PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestVixToMoodScore::test_extreme_fear_high_vix PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestVixToMoodScore::test_fear_zone_vix PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestVixToMoodScore::test_neutral_zone_vix PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestVixToMoodScore::test_greed_zone_vix PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestVixToMoodScore::test_extreme_greed_low_vix PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestDetermineMoodState::test_extreme_fear_state PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestDetermineMoodState::test_fear_state PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestDetermineMoodState::test_neutral_state PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestDetermineMoodState::test_greed_state PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestDetermineMoodState::test_extreme_greed_state PASSED [  0%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_returns_dict_format PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_high_vix_extreme_fear PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_low_vix_greed PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_neutral_conditions PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_vix_override PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_sentiment_override PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_combined_vix_and_sentiment PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestGetMarketMood::test_missing_data_uses_defaults PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestExtremeMoodDetection::test_extreme_fear_is_extreme PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestExtremeMoodDetection::test_extreme_greed_is_extreme PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestExtremeMoodDetection::test_moderate_conditions_not_extreme PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestExtremeMoodDetection::test_lower_threshold_triggers_extreme PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestMoodDescription::test_extreme_fear_description PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestMoodDescription::test_neutral_description PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestIntrospection::test_introspect_returns_string PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestSingleton::test_get_market_mood_analyzer_returns_same_instance PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestEdgeCases::test_zero_vix PASSED [  1%]
tests/altdata/test_market_mood_analyzer.py::TestEdgeCases::test_negative_vix PASSED [  2%]
tests/altdata/test_market_mood_analyzer.py::TestEdgeCases::test_sentiment_out_of_range PASSED [  2%]
tests/altdata/test_news_processor.py::test_news_processor_init PASSED    [  2%]
tests/altdata/test_news_processor.py::test_get_sentiment_scores PASSED   [  2%]
tests/altdata/test_news_processor.py::test_fetch_news_basic PASSED       [  2%]
tests/altdata/test_news_processor.py::test_fetch_news_by_symbol PASSED   [  2%]
tests/altdata/test_news_processor.py::test_fetch_news_by_query PASSED    [  2%]
tests/altdata/test_news_processor.py::test_fetch_news_by_date_range PASSED [  2%]
tests/altdata/test_news_processor.py::test_get_aggregated_sentiment_overall PASSED [  2%]
tests/altdata/test_news_processor.py::test_get_aggregated_sentiment_no_news PASSED [  2%]
tests/altdata/test_news_processor.py::test_get_news_processor_singleton PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentBasic::test_positive_sentiment PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentBasic::test_negative_sentiment PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentBasic::test_neutral_sentiment PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentBasic::test_score_range PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentEdgeCases::test_empty_text PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentEdgeCases::test_none_text PASSED [  2%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentEdgeCases::test_very_short_text PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentEdgeCases::test_very_long_text PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentEdgeCases::test_special_characters PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTSentimentEdgeCases::test_unicode_text PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTPerformance::test_single_inference_latency PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTPerformance::test_cache_effectiveness PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTPerformance::test_batch_processing_faster PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTVsVADER::test_vader_fingpt_both_work PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTVsVADER::test_positive_news_both_positive PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTVsVADER::test_negative_news_both_negative PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTVsVADER::test_financial_domain_advantage PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestABTestMode::test_ab_test_mode_runs_both_models PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestABTestMode::test_sentiment_model_info PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTStatisticalValidation::test_reproducibility PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTStatisticalValidation::test_sensitivity_to_wording PASSED [  3%]
tests/altdata/test_sentiment_fingpt.py::TestFinGPTStatisticalValidation::test_symmetry_positive_negative PASSED [  3%]
tests/backtest/test_pnl_calculation.py::TestBasicPnLCalculation::test_winning_long_trade PASSED [  3%]
tests/backtest/test_pnl_calculation.py::TestBasicPnLCalculation::test_losing_long_trade PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestBasicPnLCalculation::test_partial_exit PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestBasicPnLCalculation::test_multiple_trades_accumulate PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestSlippageImpact::test_slippage_reduces_profit PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestCommissionImpact::test_commission_reduces_cash PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestCommissionImpact::test_sec_taf_fees_on_sell PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestPositionTracking::test_position_qty_updates PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestPositionTracking::test_average_cost_updates PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestPositionTracking::test_cannot_oversell PASSED [  4%]
tests/backtest/test_pnl_calculation.py::TestTradeRecording::test_trades_recorded_correctly PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestVerdictDataclass::test_verdict_creation PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestVerdictDataclass::test_verdict_rejected PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_good_signal_approved PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_penny_stock_penalized PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_wide_stop_penalized PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_multiple_penalties PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_score_clamped_to_zero PASSED [  4%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_handles_missing_prices PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestHeuristicFunction::test_handles_invalid_prices PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestAdjudicateFunction::test_adjudicate_returns_verdict PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestAdjudicateFunction::test_adjudicate_good_signal PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestAdjudicateFunction::test_adjudicate_bad_signal PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestAdjudicateFunction::test_adjudicate_empty_signal PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestScoreThresholds::test_score_exactly_at_threshold PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestScoreThresholds::test_score_just_below_threshold PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestEdgeCases::test_zero_entry_price PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestEdgeCases::test_negative_prices PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestEdgeCases::test_none_values PASSED [  5%]
tests/cognitive/test_adjudicator.py::TestIntegration::test_adjudicator_with_full_signal PASSED [  5%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainInitialization::test_default_initialization PASSED [  5%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainInitialization::test_custom_initialization PASSED [  5%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainInitialization::test_lazy_loading_components PASSED [  5%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainInitialization::test_singleton_factory PASSED [  5%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainDeliberation::test_basic_deliberation_act PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainDeliberation::test_basic_deliberation_stand_down PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainDeliberation::test_deliberation_increments_decision_count PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainDeliberation::test_deliberation_records_processing_time PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainDeliberation::test_deliberation_with_missing_context PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainLearning::test_learn_from_winning_outcome PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainLearning::test_learn_from_losing_outcome PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainThinkDeeper::test_think_deeper_returns_adjusted_confidence PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainThinkDeeper::test_think_deeper_caps_confidence PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainConsolidation::test_daily_consolidation PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainConsolidation::test_weekly_consolidation PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainIntrospection::test_get_status PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainIntrospection::test_introspect PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainSizeMultiplier::test_size_multiplier_high_confidence PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainSizeMultiplier::test_size_multiplier_low_confidence PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveBrainSizeMultiplier::test_size_multiplier_boundary PASSED [  6%]
tests/cognitive/test_cognitive_brain.py::TestCognitiveDecision::test_cognitive_decision_to_dict PASSED [  6%]
tests/cognitive/test_contradiction_resolver.py::TestSignal::test_signal_creation PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestSignal::test_signal_serialization PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradiction::test_contradiction_creation PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestResolution::test_resolution_creation PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestResolution::test_resolution_serialization PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_initialization PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_find_contradictions_opposite_directions PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_find_contradictions_no_contradictions PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_are_contradictory_opposite_directions PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_are_contradictory_same_direction PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_resolve_with_contradictions PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_simple_aggregate_all_long PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestContradictionResolver::test_simple_aggregate_mixed_with_majority PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestSingletonPattern::test_get_resolver_returns_instance PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestEdgeCases::test_empty_signals_list PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestEdgeCases::test_single_signal PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestEdgeCases::test_all_stand_down_signals PASSED [  7%]
tests/cognitive/test_contradiction_resolver.py::TestEnums::test_signal_direction_values PASSED [  8%]
tests/cognitive/test_contradiction_resolver.py::TestEnums::test_resolution_method_values PASSED [  8%]
tests/cognitive/test_contradiction_resolver.py::TestEnums::test_contradiction_severity_values PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestHypothesisStatusEnum::test_status_values PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestHypothesisDataclass::test_hypothesis_creation PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestHypothesisDataclass::test_hypothesis_to_dict PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestEdgeDataclass::test_edge_creation PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestEdgeDataclass::test_edge_to_dict PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestCuriosityEngineInitialization::test_default_initialization PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestCuriosityEngineInitialization::test_custom_parameters PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestGetValidatedEdges::test_get_validated_edges_empty PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestGetActiveHypotheses::test_get_active_hypotheses_empty PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestTestAllPending::test_test_all_pending_empty PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestStatistics::test_get_stats_empty PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestIntrospection::test_introspect PASSED [  8%]
tests/cognitive/test_curiosity_engine.py::TestStatePersistence::test_state_persists_across_instances PASSED [  8%]
tests/cognitive/test_episodic_memory.py::TestEpisodeOutcomeEnum::test_outcome_values PASSED [  8%]
tests/cognitive/test_episodic_memory.py::TestEpisodeDataclass::test_episode_creation PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeDataclass::test_episode_to_dict PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeDataclass::test_episode_from_dict PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeDataclass::test_episode_context_signature PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeDataclass::test_episode_different_context_different_signature PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodicMemoryInitialization::test_initialization_creates_directory PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodicMemoryInitialization::test_initialization_with_custom_max_episodes PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_start_episode PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_add_reasoning PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_add_reasoning_list PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_add_concern PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_add_concerns_multiple PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_add_action PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_complete_episode_win PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_complete_episode_loss PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestEpisodeLifecycle::test_complete_episode_stand_down PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestFindingSimilarEpisodes::test_find_similar_empty PASSED [  9%]
tests/cognitive/test_episodic_memory.py::TestFindingSimilarEpisodes::test_find_similar_with_matching_context PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestFindingSimilarEpisodes::test_find_similar_respects_limit PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestLessonsForContext::test_get_lessons_for_context_empty PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestLessonsForContext::test_get_lessons_includes_postmortem_lessons PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestWinRateForContext::test_win_rate_empty PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestWinRateForContext::test_win_rate_calculation PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestRecentEpisodes::test_get_recent_episodes PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestPostmortem::test_add_postmortem PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestStatistics::test_get_stats_empty PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestStatistics::test_get_stats_with_episodes PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestPruning::test_prune_least_important PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestPersistence::test_save_and_load_episode PASSED [ 10%]
tests/cognitive/test_episodic_memory.py::TestSingletonFactory::test_get_episodic_memory_singleton PASSED [ 10%]
tests/cognitive/test_game_briefings.py::TestBriefingContext::test_required_fields PASSED [ 10%]
tests/cognitive/test_game_briefings.py::TestBriefingContext::test_default_values PASSED [ 10%]
tests/cognitive/test_game_briefings.py::TestBriefingContext::test_to_dict PASSED [ 10%]
tests/cognitive/test_game_briefings.py::TestPreGameBriefing::test_creation PASSED [ 10%]
tests/cognitive/test_game_briefings.py::TestPreGameBriefing::test_to_dict PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestHalfTimeBriefing::test_creation PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestPostGameBriefing::test_creation PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestTradeOutcome::test_winner_detection PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestPositionStatus::test_creation PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestGameBriefingEngine::test_filter_test_trades PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestGameBriefingEngine::test_save_briefing_utf8_encoding PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestGetBriefingEngine::test_returns_engine_instance PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestIntegration::test_briefing_flow PASSED [ 11%]
tests/cognitive/test_game_briefings.py::TestIntegration::test_day_summary_calculation PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestPriorityEnum::test_priority_values PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestWorkspaceItemDataclass::test_item_creation PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestWorkspaceItemDataclass::test_item_with_custom_ttl PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestWorkspaceItemDataclass::test_item_to_dict PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestWorkspaceItemDataclass::test_item_is_expired PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestGlobalWorkspaceInitialization::test_default_initialization PASSED [ 11%]
tests/cognitive/test_global_workspace.py::TestGlobalWorkspaceInitialization::test_custom_capacity PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestPublishSubscribe::test_subscribe_to_topic PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestPublishSubscribe::test_publish_message PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestPublishSubscribe::test_multiple_subscribers PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestPublishSubscribe::test_publish_to_nonexistent_topic PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestPublishSubscribe::test_wildcard_subscription PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestGetData::test_get_published_data PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestGetData::test_get_nonexistent_data PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestGetData::test_get_with_default PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestGetData::test_get_item_full PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestGetContext::test_get_context_multiple_topics PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestGetContext::test_get_context_empty PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestWorkingMemory::test_high_priority_enters_working_memory PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestWorkingMemory::test_low_priority_does_not_enter_working_memory PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestWorkingMemory::test_focus_attention PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestWorkingMemory::test_working_memory_capacity_limit PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestStatistics::test_get_stats PASSED [ 12%]
tests/cognitive/test_global_workspace.py::TestCleanup::test_cleanup_expired_items PASSED [ 13%]
tests/cognitive/test_global_workspace.py::TestDumpState::test_dump_state_json PASSED [ 13%]
tests/cognitive/test_global_workspace.py::TestSingletonFactory::test_get_workspace PASSED [ 13%]
tests/cognitive/test_global_workspace.py::TestTopicConstants::test_topic_constants_exist PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestUncertaintyLevelEnum::test_uncertainty_levels PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestUncertaintySourceEnum::test_uncertainty_sources PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestInvalidatorDataclass::test_invalidator_creation PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestKnowledgeAssessmentDataclass::test_assessment_creation PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestKnowledgeAssessmentDataclass::test_assessment_to_dict PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestKnowledgeBoundaryInitialization::test_default_initialization PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestKnowledgeBoundaryInitialization::test_custom_thresholds PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestAssessKnowledgeState::test_low_uncertainty_context PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestAssessKnowledgeState::test_missing_data_increases_uncertainty PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestAssessKnowledgeState::test_stale_data_increases_uncertainty PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestAssessKnowledgeState::test_high_vix_increases_uncertainty PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestAssessKnowledgeState::test_stand_down_on_extreme_uncertainty PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestWhatWouldChangeMind::test_returns_list_of_doubts PASSED [ 13%]
tests/cognitive/test_knowledge_boundary.py::TestGetConfidenceCeiling::test_high_uncertainty_lowers_ceiling PASSED [ 14%]
tests/cognitive/test_knowledge_boundary.py::TestGetConfidenceCeiling::test_low_uncertainty_high_ceiling PASSED [ 14%]
tests/cognitive/test_knowledge_boundary.py::TestIntrospection::test_introspect PASSED [ 14%]
tests/cognitive/test_knowledge_boundary.py::TestConfidenceAdjustment::test_confidence_adjustment_negative_with_uncertainty PASSED [ 14%]
tests/cognitive/test_knowledge_boundary.py::TestTimestampHandling::test_handles_string_timestamp PASSED [ 14%]
tests/cognitive/test_knowledge_boundary.py::TestTimestampHandling::test_handles_datetime_timestamp PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_llm_analyzer_init_with_api_key PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_llm_analyzer_init_without_api_key PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_build_prompt PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_analyze_reflection_success PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_analyze_reflection_no_client PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_analyze_reflection_api_error PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::test_get_llm_analyzer_singleton PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::TestStrategyIdeaParsing::test_parse_strategy_ideas_single PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::TestStrategyIdeaParsing::test_parse_strategy_ideas_multiple PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::TestStrategyIdeaParsing::test_parse_strategy_ideas_no_ideas PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::TestStrategyIdeaParsing::test_parse_strategy_ideas_incomplete PASSED [ 14%]
tests/cognitive/test_llm_narrative_analyzer.py::TestShouldRequestStrategyIdeas::test_should_request_for_daily_scope PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::TestShouldRequestStrategyIdeas::test_should_request_for_weekly_scope PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::TestShouldRequestStrategyIdeas::test_should_request_for_many_failures PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::TestShouldRequestStrategyIdeas::test_should_request_for_trigger_phrases PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::TestShouldRequestStrategyIdeas::test_should_not_request_for_simple_episode PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::TestStrategyIdeaDataclass::test_strategy_idea_to_dict PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::TestLLMAnalysisResultDataclass::test_llm_analysis_result_to_dict PASSED [ 15%]
tests/cognitive/test_llm_narrative_analyzer.py::test_analyze_reflection_with_strategy_ideas PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestTradeNarrative::test_import PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestTradeNarrative::test_create_narrative PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestTradeNarrative::test_narrative_to_dict PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestDailyInsightReport::test_import PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestDailyInsightReport::test_create_report PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestDailyInsightReport::test_report_to_dict PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestLLMTradeAnalyzer::test_import PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestLLMTradeAnalyzer::test_init_defaults PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestLLMTradeAnalyzer::test_init_custom_params PASSED [ 15%]
tests/cognitive/test_llm_trade_analyzer.py::TestDeterministicFallback::test_deterministic_narrative_ibs_rsi PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestDeterministicFallback::test_deterministic_narrative_turtle_soup PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestDeterministicFallback::test_deterministic_narrative_unknown_strategy PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestTop3Analysis::test_analyze_empty_picks PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestTop3Analysis::test_analyze_top3_deterministic PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestTOTDAnalysis::test_analyze_empty_totd PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestTOTDAnalysis::test_analyze_totd_deterministic PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestMarketSummary::test_market_summary_bull PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestMarketSummary::test_market_summary_bear PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestSentimentInterpretation::test_interpret_no_articles PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestSentimentInterpretation::test_interpret_with_articles PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestKeyFindings::test_findings_empty_signals PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestKeyFindings::test_findings_with_signals PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestDailyInsightReportGeneration::test_generate_full_report PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestSingletonPattern::test_get_trade_analyzer PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestSingletonPattern::test_reset_trade_analyzer PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestEdgeDescriptions::test_edge_description_ibs_rsi PASSED [ 16%]
tests/cognitive/test_llm_trade_analyzer.py::TestEdgeDescriptions::test_edge_description_turtle_soup PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestEdgeDescriptions::test_edge_description_unknown PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestConfidenceRating::test_high_confidence PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestConfidenceRating::test_medium_confidence PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestConfidenceRating::test_low_confidence PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestRiskWarnings::test_high_vix_warning PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestRiskWarnings::test_friday_warning PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestOpportunities::test_opportunities_with_picks PASSED [ 17%]
tests/cognitive/test_llm_trade_analyzer.py::TestOpportunities::test_opportunities_bull_regime PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestMetacognitiveGovernorInitialization::test_default_initialization PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestMetacognitiveGovernorInitialization::test_custom_initialization PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingDecisions::test_high_confidence_routes_to_fast_path PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingDecisions::test_low_confidence_triggers_stand_down PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingDecisions::test_medium_confidence_triggers_hybrid_path PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingDecisions::test_conflicting_signals_escalates_to_slow PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingDecisions::test_high_stakes_position_escalates PASSED [ 17%]
tests/cognitive/test_metacognitive_governor.py::TestStandDownDecisions::test_stand_down_increments_counter PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestStandDownDecisions::test_stand_down_has_correct_reason PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingStatistics::test_routing_stats_empty PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingStatistics::test_routing_stats_after_decisions PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingStatistics::test_record_outcome PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestNovelSituationDetection::test_novel_situation_with_no_history PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestIntrospection::test_introspect_returns_report PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestIntrospection::test_introspect_identifies_concerns PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestRoutingDecisionDataclass::test_routing_decision_to_dict PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestDecisionRecord::test_was_efficient_property PASSED [ 18%]
tests/cognitive/test_metacognitive_governor.py::TestProcessingModeEnum::test_processing_modes PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectionEngineInitialization::test_default_initialization PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectionEngineInitialization::test_lazy_loading_dependencies PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectionDataclass::test_reflection_creation PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectionDataclass::test_reflection_to_dict PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectionDataclass::test_reflection_default_values PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectOnEpisode::test_reflect_on_winning_episode PASSED [ 18%]
tests/cognitive/test_reflection_engine.py::TestReflectOnEpisode::test_reflect_on_losing_episode PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestReflectOnEpisode::test_reflect_on_stand_down_episode PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestPeriodicReflection::test_periodic_reflection_no_episodes PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestPeriodicReflection::test_periodic_reflection_generates_summary PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestConsolidateLearnings::test_consolidate_learnings PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestIntrospection::test_introspect_returns_report PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestIntrospection::test_introspect_after_reflections PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestHelperMethods::test_describe_context PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestHelperMethods::test_describe_context_empty PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestReflectionHistory::test_reflection_history_limit PASSED [ 19%]
tests/cognitive/test_reflection_engine.py::TestApplyLearnings::test_apply_learnings_updates_memories PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyResult::test_result_creation PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyResult::test_result_serialization PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyResult::test_result_properties PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyDecoder::test_initialization_without_llm PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyDecoder::test_initialization_with_mock_llm PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyDecoder::test_decode_without_llm_returns_fallback PASSED [ 19%]
tests/cognitive/test_self_consistency.py::TestEnhancedSelfConsistency::test_initialization PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestEnhancedSelfConsistency::test_decode_with_context_weights PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestSingletonPattern::test_get_self_consistency_returns_instance PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestReasoningChain::test_reasoning_chain_creation PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestAnswerType::test_answer_types_exist PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyIntegration::test_full_decode_with_mock_llm PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestSelfConsistencyIntegration::test_diverse_sampling_with_temperature PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestEdgeCases::test_high_confidence_result PASSED [ 20%]
tests/cognitive/test_self_consistency.py::TestEdgeCases::test_disputed_result PASSED [ 20%]
tests/cognitive/test_self_model.py::TestSelfModelInitialization::test_default_initialization PASSED [ 20%]
tests/cognitive/test_self_model.py::TestSelfModelInitialization::test_initialization_creates_state_dir PASSED [ 20%]
tests/cognitive/test_self_model.py::TestCapabilityEnum::test_capability_values PASSED [ 20%]
tests/cognitive/test_self_model.py::TestStrategyPerformance::test_win_rate_calculation PASSED [ 20%]
tests/cognitive/test_self_model.py::TestStrategyPerformance::test_win_rate_zero_trades PASSED [ 20%]
tests/cognitive/test_self_model.py::TestStrategyPerformance::test_capability_classification PASSED [ 20%]
tests/cognitive/test_self_model.py::TestStrategyPerformance::test_to_dict PASSED [ 20%]
tests/cognitive/test_self_model.py::TestLimitation::test_limitation_creation PASSED [ 20%]
tests/cognitive/test_self_model.py::TestLimitation::test_limitation_to_dict PASSED [ 21%]
tests/cognitive/test_self_model.py::TestConfidenceCalibration::test_actual_accuracy PASSED [ 21%]
tests/cognitive/test_self_model.py::TestConfidenceCalibration::test_calibration_error PASSED [ 21%]
tests/cognitive/test_self_model.py::TestRecordTradeOutcome::test_record_winning_trade PASSED [ 21%]
tests/cognitive/test_self_model.py::TestRecordTradeOutcome::test_record_losing_trade PASSED [ 21%]
tests/cognitive/test_self_model.py::TestRecordTradeOutcome::test_record_multiple_trades PASSED [ 21%]
tests/cognitive/test_self_model.py::TestRecordLimitation::test_record_new_limitation PASSED [ 21%]
tests/cognitive/test_self_model.py::TestRecordLimitation::test_record_duplicate_limitation PASSED [ 21%]
tests/cognitive/test_self_model.py::TestCalibrationTracking::test_record_prediction PASSED [ 21%]
tests/cognitive/test_self_model.py::TestCalibrationTracking::test_is_well_calibrated PASSED [ 21%]
tests/cognitive/test_self_model.py::TestCalibrationTracking::test_get_calibration_error PASSED [ 21%]
tests/cognitive/test_self_model.py::TestShouldStandDown::test_stand_down_poor_capability PASSED [ 21%]
tests/cognitive/test_self_model.py::TestShouldStandDown::test_no_stand_down_good_capability PASSED [ 21%]
tests/cognitive/test_self_model.py::TestStrengthsAndWeaknesses::test_get_strengths PASSED [ 21%]
tests/cognitive/test_self_model.py::TestStrengthsAndWeaknesses::test_get_weaknesses PASSED [ 21%]
tests/cognitive/test_self_model.py::TestSelfDescription::test_get_self_description PASSED [ 21%]
tests/cognitive/test_self_model.py::TestSelfDescription::test_self_description_with_data PASSED [ 21%]
tests/cognitive/test_self_model.py::TestPersistence::test_save_and_load_state PASSED [ 22%]
tests/cognitive/test_self_model.py::TestGetStatus::test_get_status PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticRuleDataclass::test_rule_creation PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticRuleDataclass::test_rule_with_custom_confidence PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticRuleDataclass::test_rule_to_dict PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticRuleDataclass::test_rule_from_dict PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticRuleDataclass::test_rule_success_rate_property PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticRuleDataclass::test_rule_evidence_ratio_property PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestConditionMatcher::test_simple_equality PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestConditionMatcher::test_numeric_comparison PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestConditionMatcher::test_and_condition PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestConditionMatcher::test_or_condition PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestConditionMatcher::test_missing_field PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticMemoryInitialization::test_default_initialization PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestSemanticMemoryInitialization::test_initialization_creates_directory PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestAddingRules::test_add_rule PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestAddingRules::test_add_rule_with_parameters PASSED [ 22%]
tests/cognitive/test_semantic_memory.py::TestAddingRules::test_add_duplicate_rule_strengthens PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestGetApplicableRules::test_get_applicable_rules_empty PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestGetApplicableRules::test_get_applicable_rules_matching PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestGetApplicableRules::test_get_applicable_rules_respects_min_confidence PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestRecordRuleOutcome::test_record_successful_outcome PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestRecordRuleOutcome::test_record_failed_outcome PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestRecordRuleOutcome::test_rule_deactivated_after_many_failures PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestRuleStatistics::test_get_stats_empty PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestRuleStatistics::test_get_stats_with_rules PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestGetAllRules::test_get_all_rules PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestGetAllRules::test_get_all_rules_active_only PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestPruneLowConfidence::test_prune_low_confidence PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestPersistence::test_save_and_load_state PASSED [ 23%]
tests/cognitive/test_semantic_memory.py::TestSingletonFactory::test_get_semantic_memory PASSED [ 23%]
tests/cognitive/test_signal_adjudicator.py::TestAdjudicatorConfig::test_default_weights_sum_to_100 PASSED [ 23%]
tests/cognitive/test_signal_adjudicator.py::TestAdjudicatorConfig::test_validate_returns_true_for_valid_config PASSED [ 23%]
tests/cognitive/test_signal_adjudicator.py::TestAdjudicatorConfig::test_validate_returns_false_for_invalid_config PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestSignalStrength::test_extreme_ibs_gets_max_score PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestSignalStrength::test_near_extreme_rsi_gets_partial_score PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestSignalStrength::test_normal_rsi_gets_no_bonus PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestPatternConfluence::test_detects_ibs_oversold_pattern PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestPatternConfluence::test_multiple_patterns_increase_score PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestVolatilityContraction::test_low_percentile_gets_high_score PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestVolatilityContraction::test_insufficient_data_returns_neutral PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestSectorStrength::test_outperforming_sector_gets_bonus PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestSectorStrength::test_underperforming_sector_gets_no_bonus PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestAdjudicatorIntegration::test_adjudicate_returns_sorted_dataframe PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestAdjudicatorIntegration::test_get_top_n_returns_correct_count PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestAdjudicatorIntegration::test_empty_signals_returns_empty PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestConvenienceFunctions::test_get_adjudicator_returns_singleton PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestConvenienceFunctions::test_get_adjudicator_with_config_creates_new PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestConvenienceFunctions::test_adjudicate_signals_convenience PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestRSITiering::test_rsi_under_5_is_extreme PASSED [ 24%]
tests/cognitive/test_signal_adjudicator.py::TestRSITiering::test_rsi_5_to_10_is_near_extreme PASSED [ 25%]
tests/cognitive/test_signal_adjudicator.py::TestRSITiering::test_rsi_over_10_is_normal PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestCognitiveSignalProcessorInitialization::test_default_initialization PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestCognitiveSignalProcessorInitialization::test_processor_has_active_episodes_tracking PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestBuildMarketContext::test_build_context_with_spy_data PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestBuildMarketContext::test_build_context_empty_data PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestEvaluateSignals::test_evaluate_empty_signals PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestEvaluateSignals::test_evaluate_single_signal PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestEvaluateSignals::test_evaluate_multiple_signals PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestRecordOutcome::test_record_outcome_updates_brain PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestDailyMaintenance::test_daily_maintenance PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestIntrospection::test_introspect PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestGetCognitiveStatus::test_get_cognitive_status PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestRecordOutcomeBySymbol::test_record_outcome_by_symbol_no_match PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestIntegrationWithBrain::test_processor_uses_brain PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestIntegrationWithBrain::test_brain_status_accessible PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestSingletonFactory::test_get_signal_processor PASSED [ 25%]
tests/cognitive/test_signal_processor.py::TestErrorHandling::test_handles_malformed_signal PASSED [ 26%]
tests/cognitive/test_signal_processor.py::TestErrorHandling::test_handles_none_market_data PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestBasicRAGOperations::test_rag_initialization PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestBasicRAGOperations::test_trade_knowledge_to_document PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestBasicRAGOperations::test_index_trade_history SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestBasicRAGOperations::test_query_similar_trades SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestBasicRAGOperations::test_symbol_filter SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestRAGEvaluation::test_faithfulness_computation PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestRAGEvaluation::test_answer_relevance_computation PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestRAGEvaluation::test_context_precision_computation PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestRAGEvaluation::test_overall_quality_score PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestRAGEvaluation::test_quality_gates PASSED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestQualityGatesAndStandDown::test_stand_down_on_low_faithfulness SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestQualityGatesAndStandDown::test_stand_down_on_insufficient_data SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestQualityGatesAndStandDown::test_proceed_on_high_quality SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestEdgeCases::test_empty_index_query SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestEdgeCases::test_index_empty_trade_list SKIPPED [ 26%]
tests/cognitive/test_symbol_rag_production.py::TestEdgeCases::test_fallback_mode_when_dependencies_missing PASSED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestEdgeCases::test_query_with_special_characters SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestEdgeCases::test_duplicate_trade_indexing SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestIntegration::test_full_rag_workflow SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestIntegration::test_rag_response_serialization SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestIntegration::test_win_rate_computation SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestPerformance::test_large_index_performance SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestPerformance::test_query_latency SKIPPED [ 27%]
tests/cognitive/test_symbol_rag_production.py::TestPerformance::test_multiple_concurrent_queries SKIPPED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestThoughtNode::test_thought_node_creation PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestThoughtNode::test_thought_node_with_parent PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestThoughtNode::test_thought_node_serialization PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestToTResult::test_tot_result_creation PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestToTResult::test_tot_result_serialization PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestToTResult::test_tot_result_to_dict PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestTreeOfThoughts::test_initialization_without_llm PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestTreeOfThoughts::test_initialization_with_mock_llm PASSED [ 27%]
tests/cognitive/test_tree_of_thoughts.py::TestTreeOfThoughts::test_solve_without_llm_returns_fallback PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestTreeOfThoughts::test_beam_search_explores_branches PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestTreeOfThoughts::test_is_terminal_detection_basic PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestGetPath::test_get_path_single_node PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestGetPath::test_get_path_multiple_nodes PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestGetPath::test_get_reasoning_chain PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestSingletonPattern::test_get_tot_reasoner_returns_instance PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestSingletonPattern::test_reset_tot_reasoner PASSED [ 28%]
tests/cognitive/test_tree_of_thoughts.py::TestToTIntegration::test_full_solve_with_mock_llm PASSED [ 28%]
tests/config/test_settings_schema.py::TestLoadValidatedSettings::test_loads_default_settings PASSED [ 28%]
tests/config/test_settings_schema.py::TestLoadValidatedSettings::test_loads_custom_settings PASSED [ 28%]
tests/config/test_settings_schema.py::TestValidateSettingsForMode::test_paper_mode_is_lenient PASSED [ 28%]
tests/config/test_settings_schema.py::TestValidateSettingsForMode::test_live_mode_requires_broker_keys PASSED [ 28%]
tests/config/test_settings_schema.py::TestValidateSettingsForMode::test_live_mode_valid_with_keys PASSED [ 28%]
tests/config/test_settings_schema.py::TestGetValidatedModeConfig::test_gets_paper_mode_config PASSED [ 28%]
tests/config/test_settings_schema.py::TestGetValidatedModeConfig::test_gets_live_mode_config_as_real PASSED [ 28%]
tests/config/test_settings_schema.py::TestRequireValidSettings::test_raises_in_live_mode_with_invalid_settings PASSED [ 28%]
tests/config/test_settings_schema.py::TestRequireValidSettings::test_warns_but_continues_in_paper_mode PASSED [ 29%]
tests/config/test_settings_schema.py::TestSchemaDefaults::test_system_config_defaults PASSED [ 29%]
tests/config/test_settings_schema.py::TestSchemaDefaults::test_risk_config_defaults PASSED [ 29%]
tests/core/test_earnings_canary.py::TestSourceTagging::test_polygon_source_tagging PASSED [ 29%]
tests/core/test_earnings_canary.py::TestSourceTagging::test_no_polygon_key_returns_empty PASSED [ 29%]
tests/core/test_earnings_canary.py::TestSourceTagging::test_none_source_when_no_data PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsCanary::test_canary_passes_with_recent_earnings PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsCanary::test_canary_fails_with_no_recent_earnings PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsCanary::test_canary_handles_fetch_errors PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsCanary::test_canary_uses_known_symbols_by_default PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsSourceHealth::test_healthy_when_majority_pass PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsSourceHealth::test_unhealthy_when_majority_fail PASSED [ 29%]
tests/core/test_earnings_canary.py::TestEarningsSourceHealth::test_source_stats_aggregation PASSED [ 29%]
tests/core/test_restart_backoff.py::TestRestartBackoffConfig::test_default_values PASSED [ 29%]
tests/core/test_restart_backoff.py::TestRestartBackoffConfig::test_custom_values PASSED [ 29%]
tests/core/test_restart_backoff.py::TestRestartState::test_to_dict PASSED [ 29%]
tests/core/test_restart_backoff.py::TestRestartState::test_from_dict PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_get_delay_exponential PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_get_delay_capped PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_should_restart_first_attempt PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_should_restart_blocked_after_max PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_record_restart_increments_counter PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_record_restart_persists_state PASSED [ 30%]
tests/core/test_restart_backoff.py::TestRestartBackoff::test_state_loads_on_init PASSED [ 30%]
tests/core/test_restart_backoff.py::TestCooldownReset::test_reset_after_cooldown PASSED [ 30%]
tests/core/test_restart_backoff.py::TestJitter::test_jitter_adds_randomness PASSED [ 30%]
tests/core/test_restart_backoff.py::TestDisabled::test_always_allowed_when_disabled PASSED [ 30%]
tests/core/test_restart_backoff.py::TestGetStatus::test_status_contains_required_fields PASSED [ 30%]
tests/core/test_restart_backoff.py::TestSingleton::test_get_restart_backoff_returns_singleton PASSED [ 30%]
tests/core/test_restart_backoff.py::TestSingleton::test_reset_clears_singleton PASSED [ 30%]
tests/core/test_restart_backoff.py::TestConvenienceFunctions::test_should_restart_function PASSED [ 30%]
tests/core/test_restart_backoff.py::TestConvenienceFunctions::test_record_restart_attempt_function PASSED [ 30%]
tests/core/test_secrets.py::TestMaskSecrets::test_masks_alpaca_api_key PASSED [ 30%]
tests/core/test_secrets.py::TestMaskSecrets::test_masks_alpaca_secret_key PASSED [ 31%]
tests/core/test_secrets.py::TestMaskSecrets::test_masks_polygon_api_key PASSED [ 31%]
tests/core/test_secrets.py::TestMaskSecrets::test_masks_api_key_in_url PASSED [ 31%]
tests/core/test_secrets.py::TestMaskSecrets::test_masks_bearer_token PASSED [ 31%]
tests/core/test_secrets.py::TestMaskSecrets::test_masks_telegram_token PASSED [ 31%]
tests/core/test_secrets.py::TestMaskSecrets::test_preserves_non_secret_text PASSED [ 31%]
tests/core/test_secrets.py::TestMaskSecrets::test_handles_empty_string PASSED [ 31%]
tests/core/test_secrets.py::TestSanitizeDict::test_masks_sensitive_keys PASSED [ 31%]
tests/core/test_secrets.py::TestSanitizeDict::test_handles_nested_dicts PASSED [ 31%]
tests/core/test_secrets.py::TestSanitizeDict::test_handles_empty_dict PASSED [ 31%]
tests/core/test_secrets.py::TestSanitizeException::test_masks_secrets_in_exception PASSED [ 31%]
tests/core/test_secrets.py::TestSanitizeException::test_preserves_normal_exception PASSED [ 31%]
tests/core/test_secrets.py::TestSecretsMaskingFilter::test_filter_masks_log_messages PASSED [ 31%]
tests/core/test_secrets.py::TestSecretsMaskingFilter::test_filter_always_returns_true PASSED [ 31%]
tests/core/test_secrets.py::TestGetSafeEnvSummary::test_masks_secret_env_vars PASSED [ 31%]
tests/core/test_vix_monitor.py::TestVIXConfig::test_default_values PASSED [ 31%]
tests/core/test_vix_monitor.py::TestVIXConfig::test_custom_values PASSED [ 31%]
tests/core/test_vix_monitor.py::TestVIXReading::test_age_seconds PASSED  [ 32%]
tests/core/test_vix_monitor.py::TestVIXReading::test_is_elevated PASSED  [ 32%]
tests/core/test_vix_monitor.py::TestVIXReading::test_is_extreme PASSED   [ 32%]
tests/core/test_vix_monitor.py::TestVIXMonitor::test_fetch_vix_caches_result PASSED [ 32%]
tests/core/test_vix_monitor.py::TestVIXMonitor::test_fetch_vix_force_refresh PASSED [ 32%]
tests/core/test_vix_monitor.py::TestVIXMonitor::test_fetch_vix_fallback_on_error PASSED [ 32%]
tests/core/test_vix_monitor.py::TestVIXMonitor::test_fetch_vix_stale_cache_on_error PASSED [ 32%]
tests/core/test_vix_monitor.py::TestShouldPauseTrading::test_pause_when_vix_high PASSED [ 32%]
tests/core/test_vix_monitor.py::TestShouldPauseTrading::test_pause_when_vix_extreme PASSED [ 32%]
tests/core/test_vix_monitor.py::TestShouldPauseTrading::test_no_pause_when_vix_normal PASSED [ 32%]
tests/core/test_vix_monitor.py::TestShouldPauseTrading::test_no_pause_when_disabled PASSED [ 32%]
tests/core/test_vix_monitor.py::TestRegimeAdjustment::test_full_size_when_normal PASSED [ 32%]
tests/core/test_vix_monitor.py::TestRegimeAdjustment::test_half_size_when_elevated PASSED [ 32%]
tests/core/test_vix_monitor.py::TestRegimeAdjustment::test_quarter_size_when_high PASSED [ 32%]
tests/core/test_vix_monitor.py::TestRegimeAdjustment::test_zero_size_when_extreme PASSED [ 32%]
tests/core/test_vix_monitor.py::TestGetStatus::test_status_contains_required_fields PASSED [ 32%]
tests/core/test_vix_monitor.py::TestSingleton::test_get_vix_monitor_returns_singleton PASSED [ 32%]
tests/core/test_vix_monitor.py::TestSingleton::test_reset_clears_singleton PASSED [ 33%]
tests/core/test_vix_monitor.py::TestConvenienceFunctions::test_get_vix_level PASSED [ 33%]
tests/core/test_vix_monitor.py::TestConvenienceFunctions::test_should_pause_for_vix PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestOvernightReturns::test_calculates_overnight_returns PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestOvernightReturns::test_empty_dataframe PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestClassifyDiscontinuity::test_detects_2_to_1_split PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestClassifyDiscontinuity::test_detects_3_to_1_split PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestClassifyDiscontinuity::test_detects_reverse_split PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestClassifyDiscontinuity::test_detects_dividend PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestClassifyDiscontinuity::test_extreme_change_is_data_error PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestCheckSymbolForSplits::test_passes_with_normal_data PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestCheckSymbolForSplits::test_detects_split PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestCheckSymbolForSplits::test_detects_reverse_split PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestCheckSymbolForSplits::test_handles_empty_dataframe PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestCheckSymbolForSplits::test_handles_short_dataframe PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestRunPriceDiscontinuityCheck::test_checks_multiple_symbols PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestRunPriceDiscontinuityCheck::test_handles_empty_data PASSED [ 33%]
tests/data/quality/test_corporate_actions_canary.py::TestGetCanarySummary::test_generates_summary PASSED [ 34%]
tests/data/quality/test_corporate_actions_canary.py::TestGetCanarySummary::test_empty_results PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_sharpe_ratio_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_sortino_ratio_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_calmar_ratio_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_win_rate_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_profit_factor_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_recovery_factor_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestBasicMetrics::test_total_return_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestStatisticalValidation::test_t_statistic_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestStatisticalValidation::test_p_value_computation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestStatisticalValidation::test_statistical_significance_flag PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestStatisticalValidation::test_cohens_d_effect_size PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestRegimeSpecificMetrics::test_regime_annotation PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestRegimeSpecificMetrics::test_bull_regime_performance PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestRegimeSpecificMetrics::test_bear_regime_performance PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestRegimeSpecificMetrics::test_neutral_regime_performance PASSED [ 34%]
tests/evaluation/test_rl_benchmark.py::TestAgentComparison::test_agent_vs_baseline_comparison PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestAgentComparison::test_agent_rank_computation PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestAgentComparison::test_statistical_significance_in_comparison PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestRenaissanceStandards::test_meets_sharpe_standard PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestRenaissanceStandards::test_fails_sharpe_standard PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestRenaissanceStandards::test_meets_win_rate_standard PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestRenaissanceStandards::test_fails_win_rate_standard PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestEdgeCases::test_empty_trades PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestEdgeCases::test_single_trade PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestEdgeCases::test_all_losing_trades PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestEdgeCases::test_extreme_returns PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestEdgeCases::test_missing_regime_data PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestPerformance::test_large_trade_history PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestPerformance::test_multiple_baseline_comparison PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestIntegration::test_full_benchmark_workflow PASSED [ 35%]
tests/evaluation/test_rl_benchmark.py::TestIntegration::test_report_generation PASSED [ 35%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTCARecord::test_slippage_bps_buy PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTCARecord::test_slippage_bps_sell PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTCARecord::test_spread_capture_bps_buy PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTCARecord::test_spread_capture_bps_sell PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTCARecord::test_to_dict_conversion PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_init_loads_records PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_record_execution PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_record_execution_pruning PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_get_summary_tca_metrics PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_get_summary_tca_metrics_empty PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_get_recent_tca PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_get_tca_analyzer_singleton PASSED [ 36%]
tests/execution/tca/test_transaction_cost_analyzer.py::TestTransactionCostAnalyzer::test_introspect_returns_report PASSED [ 36%]
tests/execution/test_broker_alpaca.py::TestAlpacaBrokerFunctions::test_get_best_ask_success PASSED [ 36%]
tests/execution/test_broker_alpaca.py::TestAlpacaBrokerFunctions::test_get_best_bid_success PASSED [ 36%]
tests/execution/test_broker_alpaca.py::TestAlpacaBrokerFunctions::test_get_best_ask_no_quote PASSED [ 36%]
tests/execution/test_broker_alpaca.py::TestAlpacaBrokerFunctions::test_log_trade_event PASSED [ 36%]
tests/execution/test_broker_alpaca.py::TestPlaceIOCLimit::test_place_ioc_limit_success PASSED [ 37%]
tests/execution/test_broker_alpaca.py::TestPlaceIOCLimit::test_place_ioc_limit_no_quotes PASSED [ 37%]
tests/execution/test_broker_alpaca.py::TestPlaceIOCLimit::test_place_ioc_limit_alpaca_reject PASSED [ 37%]
tests/execution/test_broker_alpaca.py::TestPlaceOrderWithLiquidityCheck::test_liquidity_check_passes PASSED [ 37%]
tests/execution/test_broker_alpaca.py::TestPlaceOrderWithLiquidityCheck::test_liquidity_check_fails PASSED [ 37%]
tests/execution/test_broker_alpaca.py::TestExecuteSignal::test_execute_signal_success PASSED [ 37%]
tests/execution/test_broker_alpaca.py::TestExecuteSignal::test_execute_signal_no_quotes PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestIntelligentExecutorInitialization::test_default_initialization PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestIntelligentExecutorInitialization::test_lazy_loading_components PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecuteSignalIntelligently::test_execute_signal_success PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecuteSignalIntelligently::test_execute_signal_rejected_by_confidence PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecuteSignalIntelligently::test_execute_signal_rejected_by_risk_manager PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecuteSignalIntelligently::test_execute_signal_rejected_by_policy_gate PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecuteSignalIntelligently::test_execute_signal_dry_run PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecuteSignalIntelligently::test_execute_signal_order_manager_failure PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecutePipeline::test_execute_pipeline_success PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestExecutePipeline::test_execute_pipeline_skip_trading_regime PASSED [ 37%]
tests/execution/test_intelligent_executor.py::TestSingletonFactory::test_get_intelligent_executor_singleton PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerKillSwitch::test_respects_kill_switch_active PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerKillSwitch::test_allows_trigger_when_kill_switch_inactive PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerKillSwitch::test_increments_prometheus_counter_on_kill_switch PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerModes::test_vwap_reclaim_long_triggered PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerModes::test_vwap_reclaim_long_not_triggered PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerModes::test_vwap_reclaim_short_triggered PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestIntradayTriggerModes::test_returns_false_when_no_data PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestConvenienceFunctions::test_get_intraday_trigger_singleton PASSED [ 38%]
tests/execution/test_intraday_trigger.py::TestConvenienceFunctions::test_check_entry_trigger_function PASSED [ 38%]
tests/execution/test_order_manager.py::TestOrderManagerInitialization::test_default_initialization PASSED [ 38%]
tests/execution/test_order_manager.py::TestSubmitOrder::test_submit_order_limit_success PASSED [ 38%]
tests/execution/test_order_manager.py::TestSubmitOrder::test_submit_order_twap_success PASSED [ 38%]
tests/execution/test_order_manager.py::TestSubmitOrder::test_submit_order_vwap_calls_twap PASSED [ 38%]
tests/execution/test_order_manager.py::TestSubmitOrder::test_submit_order_unknown_strategy_defaults_to_limit PASSED [ 38%]
tests/execution/test_order_manager.py::TestSubmitOrder::test_submit_order_error_updates_status PASSED [ 38%]
tests/execution/test_order_manager.py::TestExecuteSimpleIOCLimit::test_execute_simple_ioc_limit_success PASSED [ 38%]
tests/execution/test_order_manager.py::TestExecuteTWAP::test_execute_twap_fills_order PASSED [ 39%]
tests/execution/test_order_manager.py::TestExecuteVWAP::test_execute_vwap_calls_twap PASSED [ 39%]
tests/execution/test_order_manager.py::TestSingletonFactory::test_get_order_manager_singleton PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_polygon_fetch_daily_bars_success PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_polygon_fetch_daily_bars_no_data PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_polygon_fetch_daily_bars_api_failure PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_best_ask_success PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_best_ask_failure PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_order_by_id_success PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_order_by_id_failure PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_order_by_client_id_success PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_order_by_client_id_failure PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_positions_success PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_positions_empty PASSED [ 39%]
tests/integration/test_api_connectivity.py::TestApiConnectivity::test_alpaca_get_positions_api_failure PASSED [ 39%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_slippage_aligned PASSED [ 39%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_kill_zone_config_exists PASSED [ 39%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_kill_zone_filter_exists PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_kill_zone_filter_called PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_quality_gate_in_paper_trade PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_quality_gate_import_exists PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_risk_pct_aligned PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_time_stop_uses_trading_days PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_stop_coverage_logic_fixed PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestBacktestLiveParity::test_paper_mode_assertion_exists PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestKillZoneLogic::test_primary_window_allowed PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestKillZoneLogic::test_opening_range_blocked PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestKillZoneLogic::test_lunch_blocked PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestKillZoneLogic::test_power_hour_allowed PASSED [ 40%]
tests/integration/test_backtest_live_parity.py::TestKillZoneLogic::test_empty_signals_handled PASSED [ 40%]
tests/integration/test_concurrent_execution.py::TestConcurrentSignalProcessing::test_two_signals_same_symbol_processed_safely PASSED [ 40%]
tests/integration/test_concurrent_execution.py::TestConcurrentSignalProcessing::test_different_symbols_processed_in_parallel PASSED [ 40%]
tests/integration/test_concurrent_execution.py::TestConcurrentStateWrites::test_concurrent_positions_writes PASSED [ 40%]
tests/integration/test_concurrent_execution.py::TestConcurrentStateWrites::test_no_corruption_without_lock PASSED [ 40%]
tests/integration/test_concurrent_execution.py::TestIdempotencyUnderLoad::test_same_order_ten_threads PASSED [ 41%]
tests/integration/test_concurrent_execution.py::TestHashChainOrdering::test_concurrent_appends_preserve_order PASSED [ 41%]
tests/integration/test_concurrent_execution.py::TestHashChainOrdering::test_chain_length_correct PASSED [ 41%]
tests/integration/test_concurrent_execution.py::TestProviderCacheConcurrency::test_concurrent_cache_reads PASSED [ 41%]
tests/integration/test_concurrent_execution.py::TestHighConcurrencyStress::test_100_concurrent_signal_validations PASSED [ 41%]
tests/integration/test_concurrent_execution.py::TestHighConcurrencyStress::test_concurrent_file_operations PASSED [ 41%]
tests/integration/test_demo_run.py::TestDemoRun::test_status_runs PASSED [ 41%]
tests/integration/test_demo_run.py::TestDemoRun::test_tour_runs PASSED   [ 41%]
tests/integration/test_demo_run.py::TestDemoRun::test_research_runs PASSED [ 41%]
tests/integration/test_demo_run.py::TestHealthCheck::test_health_check_returns_int PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestDuplicateSubmissions::test_100_duplicate_submissions_one_execution PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestDuplicateSubmissions::test_different_orders_all_execute PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestConcurrentIdempotencyChecks::test_10_threads_same_key_one_execution PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestConcurrentIdempotencyChecks::test_thread_safety_with_multiple_keys PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestIdempotencyCleanup::test_old_entries_can_be_pruned PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestIdempotencyCleanup::test_active_entries_not_pruned PASSED [ 41%]
tests/integration/test_idempotency_stress.py::TestPersistenceAcrossRestarts::test_entries_survive_reconnect PASSED [ 42%]
tests/integration/test_idempotency_stress.py::TestPersistenceAcrossRestarts::test_duplicate_blocked_after_restart PASSED [ 42%]
tests/integration/test_idempotency_stress.py::TestHighVolumeStress::test_1000_unique_orders PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestOpeningRangeBlocked::test_935_am_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestOpeningRangeBlocked::test_930_am_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestOpeningRangeBlocked::test_959_am_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPrimaryWindowAllowed::test_1000_am_allowed PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPrimaryWindowAllowed::test_1005_am_allowed PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPrimaryWindowAllowed::test_1100_am_allowed PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestLunchChopBlocked::test_1200_pm_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestLunchChopBlocked::test_1300_pm_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestLunchChopBlocked::test_lunch_can_be_disabled PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPowerHourAllowed::test_1430_pm_allowed PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPowerHourAllowed::test_1500_pm_allowed PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestCloseBlocked::test_1545_pm_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestCloseBlocked::test_1530_pm_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPreMarketBlocked::test_0800_am_blocked PASSED [ 42%]
tests/integration/test_kill_zone_boundaries.py::TestPreMarketBlocked::test_0929_am_blocked PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestAfterHoursBlocked::test_1700_pm_blocked PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestAfterHoursBlocked::test_1600_pm_blocked PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestConvenienceFunctions::test_can_trade_now_function PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestConvenienceFunctions::test_get_current_zone_function PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestConvenienceFunctions::test_check_trade_allowed_function PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestZoneTransitions::test_opening_to_primary_transition PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestZoneTransitions::test_primary_to_lunch_transition PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestZoneDetectionWithoutMocking::test_zone_enum_values PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestZoneDetectionWithoutMocking::test_gate_initialization PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestZoneDetectionWithoutMocking::test_status_has_next_window_info PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestDSTTransitions::test_spring_forward_transition PASSED [ 43%]
tests/integration/test_kill_zone_boundaries.py::TestDSTTransitions::test_fall_back_transition PASSED [ 43%]
tests/integration/test_pipeline_run.py::TestPipelineInstantiation::test_universe_pipeline_instantiation PASSED [ 43%]
tests/integration/test_pipeline_run.py::TestPipelineInstantiation::test_data_audit_pipeline_instantiation PASSED [ 43%]
tests/integration/test_pipeline_run.py::TestPipelineInstantiation::test_discovery_pipeline_instantiation PASSED [ 43%]
tests/integration/test_pipeline_run.py::TestPipelineInstantiation::test_reporting_pipeline_instantiation PASSED [ 43%]
tests/integration/test_pipeline_run.py::TestPipelineRun::test_discovery_pipeline_runs PASSED [ 44%]
tests/integration/test_pipeline_run.py::TestPipelineRun::test_reporting_pipeline_runs PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestRiskCapDominates::test_tight_stop_with_notional_cap PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestRiskCapDominates::test_high_volatility_risk_dominates PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestNotionalCapDominates::test_expensive_stock_notional_dominates PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestNotionalCapDominates::test_small_notional_cap PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestZeroRiskDistance::test_stop_equals_entry_uses_fallback PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestZeroRiskDistance::test_very_tight_stop_uses_actual PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestFractionalShares::test_result_is_integer PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestFractionalShares::test_minimum_shares_enforced PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestMinimumShareConstraint::test_exactly_one_share PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestMinimumShareConstraint::test_small_account_minimum_enforced PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestExtremeScenarios::test_very_small_account PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestExtremeScenarios::test_very_large_account PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestExtremeScenarios::test_penny_stock_sizing PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestRiskAmountCalculation::test_risk_amount_formula PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestRiskAmountCalculation::test_notional_formula PASSED [ 44%]
tests/integration/test_position_sizing_edge.py::TestCognitiveMultiplier::test_low_confidence_reduces_size PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestPolygonSuccess::test_polygon_returns_valid_data PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestPolygonSuccess::test_polygon_response_has_correct_structure PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestPolygonFailStooqSuccess::test_polygon_500_triggers_fallback PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestPolygonFailStooqSuccess::test_polygon_timeout_triggers_fallback PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestRateLimiting::test_polygon_429_triggers_fallback PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestRateLimiting::test_rate_limit_includes_retry_header PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestAllProvidersFail::test_all_providers_fail_gracefully PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestCaching::test_cache_prevents_duplicate_calls PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestCaching::test_stale_cache_triggers_refresh PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestEmptyResponses::test_empty_results_handled PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestEmptyResponses::test_malformed_data_handled PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestMultiSymbolFetch::test_multi_symbol_parallel_fetch PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestMultiSymbolFetch::test_partial_failure_handled PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestDataQuality::test_ohlc_validation PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestDataQuality::test_volume_always_positive PASSED [ 45%]
tests/integration/test_provider_fallback.py::TestDataQuality::test_no_missing_values PASSED [ 45%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_order_within_limits_passes PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_order_exceeds_per_order_limit PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_daily_budget_accumulates PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_remaining_budget_updates PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_price_below_minimum_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_price_above_maximum_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_shorts_disabled_by_default PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_invalid_price_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_invalid_qty_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestPolicyGateEnforcement::test_position_limit_check PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillZoneEnforcement::test_kill_zone_functions_exist PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillZoneEnforcement::test_opening_range_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillZoneEnforcement::test_primary_window_allowed PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillZoneEnforcement::test_lunch_chop_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillZoneEnforcement::test_power_hour_allowed PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillZoneEnforcement::test_close_blocked PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestKillSwitchEnforcement::test_kill_switch_blocks_trading PASSED [ 46%]
tests/integration/test_risk_gates_real.py::TestAdvancedRiskIntegration::test_var_check_available PASSED [ 47%]
tests/integration/test_risk_gates_real.py::TestAdvancedRiskIntegration::test_kelly_sizer_available PASSED [ 47%]
tests/integration/test_risk_gates_real.py::TestAdvancedRiskIntegration::test_correlation_limits_available PASSED [ 47%]
tests/integration/test_risk_gates_real.py::TestAdvancedRiskIntegration::test_monte_carlo_var_available PASSED [ 47%]
tests/integration/test_risk_gates_real.py::TestPositionSizingIntegration::test_equity_sizer_respects_policy_gate PASSED [ 47%]
tests/integration/test_risk_gates_real.py::TestPositionSizingIntegration::test_kelly_reduces_when_appropriate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestPositionManagerSafetyGate::test_close_position_calls_safety_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestPositionManagerSafetyGate::test_close_position_passes_ack_token PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestCryptoBrokerSafetyGate::test_ccxt_broker_uses_safety_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestCryptoBrokerSafetyGate::test_alpaca_crypto_broker_uses_safety_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestAlpacaBrokerSafetyGate::test_alpaca_broker_uses_safety_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestPaperBrokerSafetyGate::test_paper_broker_uses_safety_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestOptionsOrderRouterSafetyGate::test_submit_order_calls_safety_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestAllBypassPathsPatched::test_no_direct_alpaca_orders_without_gate PASSED [ 47%]
tests/integration/test_safety_gate_enforced.py::TestAllBypassPathsPatched::test_no_direct_ccxt_orders_without_gate PASSED [ 47%]
tests/integration/test_signal_to_execution.py::TestFullPipelineHappyPath::test_valid_signal_through_all_gates PASSED [ 47%]
tests/integration/test_signal_to_execution.py::TestFullPipelineHappyPath::test_signal_creates_correct_order_size PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestFullPipelineHappyPath::test_order_placement_updates_state PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestQualityGateRejections::test_low_score_rejected PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestQualityGateRejections::test_low_confidence_rejected PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestQualityGateRejections::test_poor_risk_reward_rejected PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestPolicyGateRejections::test_over_budget_rejected PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestPolicyGateRejections::test_per_order_limit_enforced PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestPositionLimitGate::test_max_positions_enforced PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestDualCapPositionSizing::test_risk_cap_dominates PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestDualCapPositionSizing::test_notional_cap_dominates PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestIdempotencyPrevention::test_duplicate_signal_blocked PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestStateConsistency::test_hash_chain_updated_on_order PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestStateConsistency::test_positions_json_updated PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestBrokerIntegration::test_order_submitted_to_broker PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestBrokerIntegration::test_broker_rejection_handled PASSED [ 48%]
tests/integration/test_signal_to_execution.py::TestKillSwitchEnforcement::test_kill_switch_blocks_orders PASSED [ 48%]
tests/integration/test_state_recovery.py::TestPositionsCorruptionRecovery::test_invalid_json_detected PASSED [ 48%]
tests/integration/test_state_recovery.py::TestPositionsCorruptionRecovery::test_can_rebuild_empty_positions PASSED [ 49%]
tests/integration/test_state_recovery.py::TestPositionsCorruptionRecovery::test_corrupt_positions_backup_before_recovery PASSED [ 49%]
tests/integration/test_state_recovery.py::TestMissingFilesRecovery::test_missing_positions_file_handled PASSED [ 49%]
tests/integration/test_state_recovery.py::TestMissingFilesRecovery::test_missing_order_state_handled PASSED [ 49%]
tests/integration/test_state_recovery.py::TestMissingFilesRecovery::test_missing_hash_chain_handled PASSED [ 49%]
tests/integration/test_state_recovery.py::TestHashChainTamperDetection::test_valid_chain_passes_verification PASSED [ 49%]
tests/integration/test_state_recovery.py::TestHashChainTamperDetection::test_tampered_entry_detected PASSED [ 49%]
tests/integration/test_state_recovery.py::TestHashChainTamperDetection::test_broken_chain_link_detected PASSED [ 49%]
tests/integration/test_state_recovery.py::TestIdempotencyPersistence::test_entries_persist_after_close PASSED [ 49%]
tests/integration/test_state_recovery.py::TestIdempotencyPersistence::test_multiple_entries_persist PASSED [ 49%]
tests/integration/test_state_recovery.py::TestStateConsistencyChecks::test_positions_matches_order_state PASSED [ 49%]
tests/integration/test_state_recovery.py::TestStateConsistencyChecks::test_inconsistency_detected PASSED [ 49%]
tests/integration/test_state_recovery.py::TestCorruptionTypes::test_syntax_corruption_handled PASSED [ 49%]
tests/integration/test_state_recovery.py::TestCorruptionTypes::test_truncation_corruption_handled PASSED [ 49%]
tests/integration/test_workflow.py::TestScanToSignalWorkflow::test_strategy_generates_signals_from_data PASSED [ 49%]
tests/integration/test_workflow.py::TestBacktestWorkflow::test_backtest_produces_results PASSED [ 49%]
tests/integration/test_workflow.py::TestRiskCheckWorkflow::test_order_passes_through_risk_gate PASSED [ 49%]
tests/integration/test_workflow.py::TestRiskCheckWorkflow::test_order_blocked_when_exceeds_budget PASSED [ 50%]
tests/integration/test_workflow.py::TestStateManagementWorkflow::test_position_tracking PASSED [ 50%]
tests/integration/test_workflow.py::TestStateManagementWorkflow::test_order_history_tracking PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_initialization_without_provider PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_initialization_with_provider PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_financial_system_prompt_content PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_few_shot_examples_exist PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_chat_with_mock_provider PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_is_trading_query_detection PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFinancialLLMAdapter::test_is_trading_query_non_trading PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFeedbackLoop::test_record_outcome PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFeedbackLoop::test_record_multiple_outcomes PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestValidation::test_validate_claims_method_exists PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestValidation::test_validate_response_passthrough PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestSingletonPattern::test_get_financial_adapter_returns_instance PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestSingletonPattern::test_get_financial_adapter_parameters PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFewShotExamples::test_get_few_shot_messages PASSED [ 50%]
tests/llm/test_financial_adapter.py::TestFewShotExamples::test_few_shot_examples_structure PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestTemperatureHandling::test_chat_with_temperature PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestErrorHandling::test_empty_messages PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestIntegrationWithRouter::test_financial_mode_attribute PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestIntegrationWithRouter::test_adapter_wraps_provider PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestMessageFormatting::test_format_user_message PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestMessageFormatting::test_format_system_message_injection PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestTradeOutcome::test_trade_outcome_creation PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestFewShotExample::test_few_shot_example_creation PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestFeedbackStats::test_get_feedback_stats_empty PASSED [ 51%]
tests/llm/test_financial_adapter.py::TestFeedbackStats::test_get_feedback_stats_with_records PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_init_default PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_init_custom PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_classify_threshold_ternary PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_classify_binary PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_classify_percentile PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_state_names PASSED [ 51%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_state_counts PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestStateClassifier::test_serialization PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_init PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_fit_simple PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_row_sum_to_one PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_predict_next PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_incremental_update PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_smoothing_effect PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestTransitionMatrix::test_serialization PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestStationaryDistribution::test_compute_uniform PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestStationaryDistribution::test_compute_biased PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestStationaryDistribution::test_mean_reversion_signal PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestStationaryDistribution::test_methods_consistent PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestHigherOrderMarkov::test_init PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestHigherOrderMarkov::test_encode_decode PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestHigherOrderMarkov::test_fit_and_predict PASSED [ 52%]
tests/ml_advanced/test_markov_chain.py::TestHigherOrderMarkov::test_bounce_probability PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestHigherOrderMarkov::test_pattern_stats PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_init PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_fit PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_predict PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_predict_trending PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_score_signal PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_bounce_probability PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovPredictor::test_serialization PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovAssetScorer::test_init PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovAssetScorer::test_score_symbol PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovAssetScorer::test_score_universe PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovAssetScorer::test_filter_top_n PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestMarkovAssetScorer::test_analysis_report PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestIntegration::test_full_pipeline PASSED [ 53%]
tests/ml_advanced/test_markov_chain.py::TestIntegration::test_multi_symbol_workflow PASSED [ 53%]
tests/ml_features/test_shap_explainer.py::TestFeatureContribution::test_feature_contribution_creation PASSED [ 53%]
tests/ml_features/test_shap_explainer.py::TestFeatureContribution::test_feature_contribution_serialization PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplanation::test_explanation_creation PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplanation::test_get_top_features PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplanation::test_get_positive_contributors PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplanation::test_get_negative_contributors PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplanation::test_to_narrative PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplanation::test_to_dict_serialization PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestModelType::test_model_types PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_initialization PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_initialization_no_cache PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_explain_prediction_mock_fallback PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_explain_prediction_with_numpy PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_get_latest_explanation PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_clear_cache PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_infer_model_type_tree PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_infer_model_type_deep PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestSHAPExplainer::test_infer_model_type_linear PASSED [ 54%]
tests/ml_features/test_shap_explainer.py::TestExplainEnsemble::test_explain_ensemble_basic PASSED [ 55%]
tests/ml_features/test_shap_explainer.py::TestExplainEnsemble::test_explain_ensemble_with_weights PASSED [ 55%]
tests/ml_features/test_shap_explainer.py::TestSingletonPattern::test_get_shap_explainer_returns_instance PASSED [ 55%]
tests/ml_features/test_shap_explainer.py::TestSingletonPattern::test_explain_prediction_convenience_function PASSED [ 55%]
tests/ml_features/test_shap_explainer.py::TestEdgeCases::test_single_feature PASSED [ 55%]
tests/ml_features/test_shap_explainer.py::TestEdgeCases::test_many_features PASSED [ 55%]
tests/ml_features/test_shap_explainer.py::TestEdgeCases::test_batch_input PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestTokenBucketRateLimiter::test_allows_requests_under_limit PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestTokenBucketRateLimiter::test_blocks_requests_over_limit PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestTokenBucketRateLimiter::test_allows_requests_after_window_expires PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestTokenBucketRateLimiter::test_get_retry_after PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestRateLimitingEnabled::test_disabled_in_paper_mode PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestRateLimitingEnabled::test_enabled_in_live_mode PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestGetMetricsRateLimiter::test_returns_same_instance PASSED [ 55%]
tests/monitor/test_health_endpoints_rate_limit.py::TestGetMetricsRateLimiter::test_default_limits PASSED [ 55%]
tests/oms/test_order_state.py::TestOrderRecord::test_order_record_initialization PASSED [ 55%]
tests/oms/test_order_state.py::TestOrderRecord::test_order_record_initialization_with_new_fields PASSED [ 55%]
tests/oms/test_order_state.py::TestOrderRecord::test_update_status_only_status PASSED [ 56%]
tests/oms/test_order_state.py::TestOrderRecord::test_update_status_with_message PASSED [ 56%]
tests/oms/test_order_state.py::TestOrderRecord::test_update_status_with_fill_details PASSED [ 56%]
tests/oms/test_order_state.py::TestOrderRecord::test_update_status_all_fields PASSED [ 56%]
tests/oms/test_order_state.py::TestOrderRecord::test_order_status_enum_values PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestStateManagerBasics::test_creates_directories PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestStateManagerBasics::test_get_positions_empty PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestStateManagerBasics::test_set_and_get_positions PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestStateManagerBasics::test_update_position PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestStateManagerBasics::test_remove_position PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestStateManagerBasics::test_remove_nonexistent_position PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestAtomicWrites::test_creates_backup_on_write PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestAtomicWrites::test_write_survives_parent_dir_missing PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestWeeklyBudget::test_get_weekly_budget_defaults PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestWeeklyBudget::test_update_weekly_notional PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestBrainState::test_get_brain_state_defaults PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestBrainState::test_set_brain_state PASSED [ 56%]
tests/portfolio/test_state_manager.py::TestReconciliation::test_save_reconciliation_adds_timestamp PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestGenericState::test_get_state_with_default PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestGenericState::test_set_and_get_generic_state PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestConcurrency::test_concurrent_writes_are_safe PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestConcurrency::test_state_lock_context_manager PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestGlobalInstance::test_get_state_manager_singleton PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestGlobalInstance::test_reset_state_manager PASSED [ 57%]
tests/portfolio/test_state_manager.py::TestErrorHandling::test_handles_invalid_json PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_basic_risk_calculation PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_notional_cap_kicks_in PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_risk_cap_wins_over_notional PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_tight_stop_gives_more_shares PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_high_price_stock_limited PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_minimum_shares_enforced PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestPositionSizingFormulas::test_zero_equity_returns_minimum PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestCognitiveMultiplier::test_full_confidence_no_reduction PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestCognitiveMultiplier::test_half_confidence_halves_position PASSED [ 57%]
tests/risk/test_position_sizing_math.py::TestCognitiveMultiplier::test_low_confidence_significantly_reduces PASSED [ 58%]
tests/risk/test_position_sizing_math.py::TestKellyIntegration::test_kelly_reduces_when_indicated PASSED [ 58%]
tests/risk/test_position_sizing_math.py::TestKellyIntegration::test_kelly_disabled_gives_standard PASSED [ 58%]
tests/risk/test_position_sizing_math.py::TestEdgeCases::test_entry_equals_stop_fallback PASSED [ 58%]
tests/risk/test_position_sizing_math.py::TestEdgeCases::test_very_tight_stop_capped_by_notional PASSED [ 58%]
tests/risk/test_position_sizing_math.py::TestEdgeCases::test_format_summary_output PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckKillSwitch::test_passes_when_inactive PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckKillSwitch::test_fails_when_active PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckBrokerKeys::test_passes_with_both_keys PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckBrokerKeys::test_fails_with_missing_key PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckWebhookHmac::test_passes_with_valid_secret PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckWebhookHmac::test_fails_with_short_secret PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestCheckWebhookHmac::test_fails_with_no_secret PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestRunPreflight::test_includes_hmac_check_for_live_mode PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestRunPreflight::test_skips_hmac_check_for_paper_mode PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestRunPreflight::test_report_counts_blocking_failures PASSED [ 58%]
tests/scripts/test_preflight_live.py::TestRunPreflight::test_report_to_dict PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_live_blocked_without_all_flags PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_live_blocked_with_wrong_ack_token PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_paper_allowed_without_live_flags PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_paper_blocked_when_kill_switch_active PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_require_safety_gate_raises_on_live PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_decorator_blocks_live_orders PASSED [ 59%]
tests/security/test_live_bypass.py::TestLiveBypassPrevention::test_all_six_flags_must_pass_for_live PASSED [ 59%]
tests/security/test_live_bypass.py::TestDirectAPIBypassPrevention::test_scripts_position_manager_uses_gate PASSED [ 59%]
tests/security/test_live_bypass.py::TestDirectAPIBypassPrevention::test_options_order_router_uses_gate PASSED [ 59%]
tests/security/test_live_bypass.py::TestDirectAPIBypassPrevention::test_crypto_broker_uses_gate PASSED [ 59%]
tests/security/test_live_bypass.py::TestRegisteredFunctionEnforcement::test_registered_functions_exist PASSED [ 59%]
tests/security/test_live_bypass.py::TestMultipleFlagRequirement::test_single_flag_insufficient PASSED [ 59%]
tests/security/test_live_bypass.py::TestMultipleFlagRequirement::test_env_vars_alone_insufficient PASSED [ 59%]
tests/security/test_live_bypass.py::TestMultipleFlagRequirement::test_code_flags_alone_insufficient PASSED [ 59%]
tests/security/test_runtime_choke_enforcement.py::TestRuntimeChokeEnforcement::test_alpaca_broker_calls_gate_before_any_api PASSED [ 59%]
tests/security/test_runtime_choke_enforcement.py::TestRuntimeChokeEnforcement::test_alpaca_crypto_broker_calls_gate_before_api PASSED [ 59%]
tests/security/test_runtime_choke_enforcement.py::TestRuntimeChokeEnforcement::test_ccxt_crypto_broker_calls_gate_before_ccxt PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestRuntimeChokeEnforcement::test_position_manager_calls_gate_before_alpaca_request PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestRuntimeChokeEnforcement::test_options_router_calls_gate_before_execution PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestRuntimeChokeEnforcement::test_paper_broker_calls_gate_even_for_simulation PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestKillSwitchBlocking::test_kill_switch_blocks_paper_orders PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestKillSwitchBlocking::test_kill_switch_blocks_live_orders PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestIdempotencyAndLogging::test_gate_logs_on_allowed PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestIdempotencyAndLogging::test_gate_logs_on_blocked PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestCallOrderVerification::test_gate_called_before_order_creation PASSED [ 60%]
tests/security/test_runtime_choke_enforcement.py::TestAllBrokersHaveGate::test_all_brokers_import_safety_gate PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestIbsRsiSignalBehavior::test_ibs_rsi_triggers_on_extreme_oversold PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestIbsRsiSignalBehavior::test_no_signal_when_ibs_too_high PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestIbsRsiSignalBehavior::test_no_signal_below_min_price PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestIbsRsiSignalBehavior::test_no_signal_below_sma200 PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestTurtleSoupSignalBehavior::test_turtle_soup_triggers_on_liquidity_sweep PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestTurtleSoupSignalBehavior::test_no_signal_without_revert PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestTurtleSoupSignalBehavior::test_no_signal_weak_sweep PASSED [ 60%]
tests/strategies/test_signal_behavior.py::TestSignalOutputSchema::test_signal_has_required_columns PASSED [ 61%]
tests/strategies/test_signal_behavior.py::TestSignalOutputSchema::test_stop_loss_calculation PASSED [ 61%]
tests/strategies/test_signal_behavior.py::TestVixFilterBehavior::test_vix_blocks_when_high PASSED [ 61%]
tests/strategies/test_signal_behavior.py::TestVixFilterBehavior::test_vix_allows_when_low PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigExists::test_autonomous_yaml_exists PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigLoading::test_load_autonomous_config PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigLoading::test_brain_section_exists PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigLoading::test_scheduler_section_exists PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigLoading::test_awareness_section_exists PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigLoading::test_pipelines_section_exists PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigLoading::test_safety_section_exists PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigValues::test_cycle_interval_is_60 PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigValues::test_paper_only_is_true PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigValues::test_all_phases_defined PASSED [ 61%]
tests/test_autonomous_config.py::TestConfigValues::test_weekend_mode_enabled PASSED [ 61%]
tests/test_autonomous_run.py::TestKobeRunnerImport::test_import_kobe_runner PASSED [ 61%]
tests/test_autonomous_run.py::TestKobeRunnerImport::test_import_main PASSED [ 61%]
tests/test_autonomous_run.py::TestKobeRunnerInstantiation::test_create_runner PASSED [ 62%]
tests/test_autonomous_run.py::TestKobeRunnerInstantiation::test_runner_has_commands PASSED [ 62%]
tests/test_autonomous_run.py::TestStatusCommand::test_status_returns_int PASSED [ 62%]
tests/test_autonomous_run.py::TestAwarenessCommand::test_awareness_returns_int PASSED [ 62%]
tests/test_autonomous_run.py::TestTourCommand::test_tour_returns_int PASSED [ 62%]
tests/test_autonomous_run.py::TestHelperMethods::test_check_already_running PASSED [ 62%]
tests/test_autonomous_run.py::TestHelperMethods::test_pid_file_path PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedBacktester::test_import PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedBacktester::test_basic_backtest PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedBacktester::test_empty_signals PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedBacktester::test_empty_data PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedBacktester::test_metrics_calculation PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedBacktester::test_to_dict PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedNumba::test_compute_drawdown PASSED [ 62%]
tests/test_backtest_enhanced.py::TestVectorizedNumba::test_check_stops PASSED [ 62%]
tests/test_backtest_enhanced.py::TestDataVersioner::test_import PASSED   [ 62%]
tests/test_backtest_enhanced.py::TestDataVersioner::test_register_data PASSED [ 62%]
tests/test_backtest_enhanced.py::TestDataVersioner::test_create_snapshot PASSED [ 63%]
tests/test_backtest_enhanced.py::TestDataVersioner::test_list_versions PASSED [ 63%]
tests/test_backtest_enhanced.py::TestExperimentTracker::test_import PASSED [ 63%]
tests/test_backtest_enhanced.py::TestExperimentTracker::test_create_experiment PASSED [ 63%]
tests/test_backtest_enhanced.py::TestExperimentTracker::test_experiment_manifest PASSED [ 63%]
tests/test_backtest_enhanced.py::TestExperimentTracker::test_list_experiments PASSED [ 63%]
tests/test_backtest_enhanced.py::TestBacktestPlotter::test_import PASSED [ 63%]
tests/test_backtest_enhanced.py::TestBacktestPlotter::test_create_plotter PASSED [ 63%]
tests/test_backtest_enhanced.py::TestBacktestPlotter::test_plot_equity_static PASSED [ 63%]
tests/test_backtest_enhanced.py::TestBacktestPlotter::test_plot_trades_static PASSED [ 63%]
tests/test_backtest_enhanced.py::TestBacktestPlotter::test_plot_monthly_returns PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_import PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_basic_simulation PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_confidence_intervals PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_risk_of_ruin PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_optimal_f PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_summary PASSED [ 63%]
tests/test_backtest_enhanced.py::TestMonteCarloSimulator::test_to_dict PASSED [ 64%]
tests/test_backtest_enhanced.py::TestMonteCarloConvenienceFunction::test_run_analysis PASSED [ 64%]
tests/test_backtest_enhanced.py::TestBacktestIntegration::test_module_imports PASSED [ 64%]
tests/test_backtest_enhanced.py::TestBacktestIntegration::test_vectorized_to_monte_carlo_pipeline PASSED [ 64%]
tests/test_backtest_enhanced.py::TestBacktestIntegration::test_experiment_tracking_with_backtest PASSED [ 64%]
tests/test_bounce.py::TestStreakAnalyzer::test_calculate_streaks_basic PASSED [ 64%]
tests/test_bounce.py::TestStreakAnalyzer::test_calculate_streaks_no_down_days PASSED [ 64%]
tests/test_bounce.py::TestStreakAnalyzer::test_calculate_streaks_all_down PASSED [ 64%]
tests/test_bounce.py::TestBounceScore::test_calculate_bounce_score_perfect PASSED [ 64%]
tests/test_bounce.py::TestBounceScore::test_calculate_bounce_score_poor PASSED [ 64%]
tests/test_bounce.py::TestBounceScore::test_calculate_bounce_score_bounds PASSED [ 64%]
tests/test_bounce.py::TestBounceGates::test_apply_bounce_gates_pass PASSED [ 64%]
tests/test_bounce.py::TestBounceGates::test_apply_bounce_gates_low_sample PASSED [ 64%]
tests/test_bounce.py::TestBounceGates::test_apply_bounce_gates_low_recovery PASSED [ 64%]
tests/test_bounce.py::TestBounceGates::test_apply_bounce_gates_slow_recovery PASSED [ 64%]
tests/test_bounce.py::TestValidation::test_verify_no_lookahead_clean_data PASSED [ 64%]
tests/test_bounce.py::TestStrategyIntegration::test_get_bounce_profile_structure PASSED [ 65%]
tests/test_bounce.py::TestDataLoader::test_normalize_columns PASSED      [ 65%]
tests/test_bounce.py::TestEventTable::test_compute_overall_summary_structure PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestLiquidityGateIntegration::test_get_liquidity_gate_creates_default PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestLiquidityGateIntegration::test_set_liquidity_gate PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestLiquidityGateIntegration::test_liquidity_gate_always_enabled PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestCheckLiquidityForOrder::test_check_passes_good_stock PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestCheckLiquidityForOrder::test_check_fails_low_volume PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestCheckLiquidityForOrder::test_check_fails_wide_spread PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestCheckLiquidityForOrder::test_check_fails_no_quote PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestPlaceOrderWithLiquidityCheck::test_places_order_when_liquidity_passes PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestPlaceOrderWithLiquidityCheck::test_blocks_order_when_liquidity_fails PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestExecuteSignal::test_full_execution_flow PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestExecuteSignal::test_rejects_when_no_quote PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestExecuteSignal::test_skips_liquidity_when_param_false PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestOrderResult::test_success_when_submitted PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestOrderResult::test_not_success_when_rejected PASSED [ 65%]
tests/test_broker_liquidity_integration.py::TestOrderResult::test_not_success_when_blocked PASSED [ 66%]
tests/test_cognitive_system.py::TestGlobalWorkspace::test_import PASSED  [ 66%]
tests/test_cognitive_system.py::TestGlobalWorkspace::test_publish_subscribe PASSED [ 66%]
tests/test_cognitive_system.py::TestGlobalWorkspace::test_working_memory PASSED [ 66%]
tests/test_cognitive_system.py::TestSelfModel::test_import PASSED        [ 66%]
tests/test_cognitive_system.py::TestSelfModel::test_record_trade_outcome PASSED [ 66%]
tests/test_cognitive_system.py::TestSelfModel::test_record_limitation PASSED [ 66%]
tests/test_cognitive_system.py::TestMetacognitiveGovernor::test_import PASSED [ 66%]
tests/test_cognitive_system.py::TestMetacognitiveGovernor::test_routing_fast_path PASSED [ 66%]
tests/test_cognitive_system.py::TestMetacognitiveGovernor::test_routing_stand_down PASSED [ 66%]
tests/test_cognitive_system.py::TestEpisodicMemory::test_import PASSED   [ 66%]
tests/test_cognitive_system.py::TestEpisodicMemory::test_episode_lifecycle PASSED [ 66%]
tests/test_cognitive_system.py::TestSemanticMemory::test_import PASSED   [ 66%]
tests/test_cognitive_system.py::TestSemanticMemory::test_add_and_query_rule PASSED [ 66%]
tests/test_cognitive_system.py::TestKnowledgeBoundary::test_import PASSED [ 66%]
tests/test_cognitive_system.py::TestKnowledgeBoundary::test_uncertainty_detection PASSED [ 66%]
tests/test_cognitive_system.py::TestKnowledgeBoundary::test_what_would_change_mind PASSED [ 66%]
tests/test_cognitive_system.py::TestReflectionEngine::test_import PASSED [ 67%]
tests/test_cognitive_system.py::TestReflectionEngine::test_introspect PASSED [ 67%]
tests/test_cognitive_system.py::TestCuriosityEngine::test_import PASSED  [ 67%]
tests/test_cognitive_system.py::TestCuriosityEngine::test_hypothesis_generation PASSED [ 67%]
tests/test_cognitive_system.py::TestCuriosityEngine::test_get_stats PASSED [ 67%]
tests/test_cognitive_system.py::TestCognitiveBrain::test_import PASSED   [ 67%]
tests/test_cognitive_system.py::TestCognitiveBrain::test_initialization PASSED [ 67%]
tests/test_cognitive_system.py::TestCognitiveBrain::test_deliberate PASSED [ 67%]
tests/test_cognitive_system.py::TestCognitiveBrain::test_get_status PASSED [ 67%]
tests/test_cognitive_system.py::TestCognitiveBrain::test_introspect PASSED [ 67%]
tests/test_cognitive_system.py::TestIntegration::test_full_decision_cycle PASSED [ 67%]
tests/test_cognitive_system.py::TestIntegration::test_cognitive_package_import PASSED [ 67%]
tests/test_cognitive_system.py::TestSignalProcessor::test_import PASSED  [ 67%]
tests/test_cognitive_system.py::TestSignalProcessor::test_create_processor PASSED [ 67%]
tests/test_cognitive_system.py::TestSignalProcessor::test_evaluate_signals PASSED [ 67%]
tests/test_cognitive_system.py::TestSignalProcessor::test_get_cognitive_status PASSED [ 67%]
tests/test_data_lake.py::TestComputeDatasetId::test_deterministic_id PASSED [ 67%]
tests/test_data_lake.py::TestComputeDatasetId::test_different_inputs_different_ids PASSED [ 68%]
tests/test_data_lake.py::TestComputeDatasetId::test_id_format PASSED     [ 68%]
tests/test_data_lake.py::TestComputeFileHash::test_sha256_hash PASSED    [ 68%]
tests/test_data_lake.py::TestComputeFileHash::test_same_content_same_hash PASSED [ 68%]
tests/test_data_lake.py::TestDatasetManifest::test_manifest_creation PASSED [ 68%]
tests/test_data_lake.py::TestDatasetManifest::test_manifest_to_dict PASSED [ 68%]
tests/test_data_lake.py::TestFileRecord::test_file_record_creation PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_validate_good_data PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_detect_gaps PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_detect_ohlc_violations PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_insufficient_history PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_coverage_calculation PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_quick_check_pass PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_quick_check_fail_empty PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityGate::test_quick_check_fail_missing_columns PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityRequirements::test_default_requirements PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityRequirements::test_custom_requirements PASSED [ 68%]
tests/test_data_quality.py::TestDataQualityReport::test_report_to_dict PASSED [ 69%]
tests/test_data_quality.py::TestDataQualityReport::test_report_save_load PASSED [ 69%]
tests/test_data_quality.py::TestConvenienceFunction::test_validate_dataframe PASSED [ 69%]
tests/test_data_quality.py::TestConvenienceFunction::test_missing_args_raises PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedResearchEngine::test_initialization PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedResearchEngine::test_vectorbt_alpha_sweep_interface PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedResearchEngine::test_alphalens_validation_interface PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedResearchEngine::test_get_top_alphas PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedResearchEngine::test_enhanced_summary PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_initialization PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_enhanced_research_engine_integration PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_langgraph_initialization PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_rag_evaluator_initialization PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_enhanced_status PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_discovery_checking PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestEnhancedAutonomousBrain::test_single_cycle PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestBrainGraphIntegration::test_brain_graph_singleton PASSED [ 69%]
tests/test_enhanced_brain_integration.py::TestBrainGraphIntegration::test_brain_cycle_with_langgraph PASSED [ 70%]
tests/test_enhanced_brain_integration.py::TestRAGEvaluatorIntegration::test_rag_evaluator_singleton PASSED [ 70%]
tests/test_enhanced_brain_integration.py::TestRAGEvaluatorIntegration::test_explanation_generation PASSED [ 70%]
tests/test_enhanced_brain_integration.py::TestAlphaResearchIntegration::test_integration_singleton PASSED [ 70%]
tests/test_enhanced_brain_integration.py::TestAlphaResearchIntegration::test_integration_summary PASSED [ 70%]
tests/test_enhanced_brain_integration.py::TestEndToEndIntegration::test_enhanced_brain_full_cycle PASSED [ 70%]
tests/test_enhanced_brain_integration.py::TestEndToEndIntegration::test_discovery_alerting PASSED [ 70%]
tests/test_enhanced_brain_integration.py::test_package_imports PASSED    [ 70%]
tests/test_experiments.py::TestExperimentConfig::test_config_creation PASSED [ 70%]
tests/test_experiments.py::TestExperimentConfig::test_config_hash_deterministic PASSED [ 70%]
tests/test_experiments.py::TestExperimentConfig::test_different_configs_different_hash PASSED [ 70%]
tests/test_experiments.py::TestExperimentConfig::test_to_backtest_args PASSED [ 70%]
tests/test_experiments.py::TestExperimentResults::test_results_creation PASSED [ 70%]
tests/test_experiments.py::TestExperimentResults::test_results_hash PASSED [ 70%]
tests/test_experiments.py::TestExperimentResults::test_same_results_same_hash PASSED [ 70%]
tests/test_experiments.py::TestExperimentRegistry::test_register_experiment PASSED [ 70%]
tests/test_experiments.py::TestExperimentRegistry::test_get_experiment PASSED [ 71%]
tests/test_experiments.py::TestExperimentRegistry::test_record_results PASSED [ 71%]
tests/test_experiments.py::TestExperimentRegistry::test_list_experiments PASSED [ 71%]
tests/test_experiments.py::TestExperimentRegistry::test_list_experiments_filter_strategy PASSED [ 71%]
tests/test_experiments.py::TestExperimentRegistry::test_get_config PASSED [ 71%]
tests/test_experiments.py::TestExperimentRegistry::test_persistence PASSED [ 71%]
tests/test_experiments.py::TestExperimentRegistry::test_verify_reproducibility PASSED [ 71%]
tests/test_integration_pipeline.py::TestFullIntegrationPipeline::test_full_pipeline_execution_basic PASSED [ 71%]
tests/test_integration_pipeline.py::TestFullIntegrationPipeline::test_full_pipeline_rejection_by_cognitive_brain PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_initialization PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_custom_thresholds PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_pass_good_liquidity PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_fail_insufficient_adv PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_fail_wide_spread PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_fail_large_order_impact PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_fail_missing_quote PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_multiple_issues PASSED [ 71%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_non_strict_mode PASSED [ 72%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_spread_calculation PASSED [ 72%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_adv_calculation PASSED [ 72%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_order_pct_calculation PASSED [ 72%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_stats_tracking PASSED [ 72%]
tests/test_liquidity_gate.py::TestLiquidityGate::test_reset_history PASSED [ 72%]
tests/test_liquidity_gate.py::TestConvenienceFunctions::test_check_liquidity PASSED [ 72%]
tests/test_liquidity_gate.py::TestConvenienceFunctions::test_get_liquidity_gate PASSED [ 72%]
tests/test_liquidity_gate.py::TestLiquidityCheck::test_to_dict PASSED    [ 72%]
tests/test_macro_providers.py::TestFREDMacroProvider::test_init_without_api_key PASSED [ 72%]
tests/test_macro_providers.py::TestFREDMacroProvider::test_init_with_api_key PASSED [ 72%]
tests/test_macro_providers.py::TestFREDMacroProvider::test_get_series_cached PASSED [ 72%]
tests/test_macro_providers.py::TestFREDMacroProvider::test_get_yield_curve PASSED [ 72%]
tests/test_macro_providers.py::TestFREDMacroProvider::test_get_yield_curve_slope PASSED [ 72%]
tests/test_macro_providers.py::TestFREDMacroProvider::test_get_macro_regime PASSED [ 72%]
tests/test_macro_providers.py::TestTreasuryYieldProvider::test_init PASSED [ 72%]
tests/test_macro_providers.py::TestTreasuryYieldProvider::test_calculate_spreads PASSED [ 72%]
tests/test_macro_providers.py::TestTreasuryYieldProvider::test_detect_inversions PASSED [ 73%]
tests/test_macro_providers.py::TestTreasuryYieldProvider::test_classify_curve_shape PASSED [ 73%]
tests/test_macro_providers.py::TestCFTCCOTProvider::test_init PASSED     [ 73%]
tests/test_macro_providers.py::TestCFTCCOTProvider::test_calculate_percentile PASSED [ 73%]
tests/test_macro_providers.py::TestCFTCCOTProvider::test_aggregate_sentiment PASSED [ 73%]
tests/test_macro_providers.py::TestMacroFeatureGenerator::test_init PASSED [ 73%]
tests/test_macro_providers.py::TestMacroFeatureGenerator::test_yield_curve_features_mock PASSED [ 73%]
tests/test_macro_providers.py::TestMacroFeatureGenerator::test_feature_count PASSED [ 73%]
tests/test_macro_providers.py::TestMacroFeatureGenerator::test_caching PASSED [ 73%]
tests/test_macro_providers.py::TestConvenienceFunctions::test_get_fred_provider PASSED [ 73%]
tests/test_macro_providers.py::TestConvenienceFunctions::test_get_treasury_provider PASSED [ 73%]
tests/test_macro_providers.py::TestConvenienceFunctions::test_get_cot_provider PASSED [ 73%]
tests/test_optimizer_proof.py::TestParameterGrid::test_combo_grid_count PASSED [ 73%]
tests/test_optimizer_proof.py::TestNoLookahead::test_no_lookahead_entry PASSED [ 73%]
tests/test_optimizer_proof.py::TestWilsonCI::test_wilson_ci_matches_reference PASSED [ 73%]
tests/test_optimizer_proof.py::TestWilsonCI::test_wilson_ci_edge_cases PASSED [ 73%]
tests/test_optimizer_proof.py::TestBinomialPValue::test_binomial_pvalue_correct PASSED [ 73%]
tests/test_optimizer_proof.py::TestBinomialPValue::test_binomial_pvalue_edge_cases PASSED [ 74%]
tests/test_optimizer_proof.py::TestBenjaminiHochbergFDR::test_bh_fdr_matches_reference PASSED [ 74%]
tests/test_optimizer_proof.py::TestBenjaminiHochbergFDR::test_bh_fdr_all_significant PASSED [ 74%]
tests/test_optimizer_proof.py::TestBenjaminiHochbergFDR::test_bh_fdr_none_significant PASSED [ 74%]
tests/test_optimizer_proof.py::TestRecoveryMetrics::test_recovery_metrics_window PASSED [ 74%]
tests/test_optimizer_proof.py::TestRecoveryMetrics::test_recovery_times_calculation PASSED [ 74%]
tests/test_optimizer_proof.py::TestCostSensitivity::test_cost_sensitivity_monotonic PASSED [ 74%]
tests/test_options.py::TestBlackScholes::test_call_price_positive PASSED [ 74%]
tests/test_options.py::TestBlackScholes::test_put_price_positive PASSED  [ 74%]
tests/test_options.py::TestBlackScholes::test_call_delta_range PASSED    [ 74%]
tests/test_options.py::TestBlackScholes::test_put_delta_range PASSED     [ 74%]
tests/test_options.py::TestBlackScholes::test_atm_delta_approximately_half PASSED [ 74%]
tests/test_options.py::TestBlackScholes::test_gamma_positive PASSED      [ 74%]
tests/test_options.py::TestBlackScholes::test_theta_negative_for_long PASSED [ 74%]
tests/test_options.py::TestBlackScholes::test_put_call_parity PASSED     [ 74%]
tests/test_options.py::TestBlackScholes::test_higher_vol_higher_price PASSED [ 74%]
tests/test_options.py::TestBlackScholes::test_expiry_intrinsic_value PASSED [ 74%]
tests/test_options.py::TestRealizedVolatility::test_close_to_close_vol PASSED [ 75%]
tests/test_options.py::TestRealizedVolatility::test_vol_with_floor PASSED [ 75%]
tests/test_options.py::TestRealizedVolatility::test_vol_with_cap PASSED  [ 75%]
tests/test_options.py::TestRealizedVolatility::test_insufficient_data PASSED [ 75%]
tests/test_options.py::TestStrikeSelection::test_find_atm_strike PASSED  [ 75%]
tests/test_options.py::TestStrikeSelection::test_find_otm_call PASSED    [ 75%]
tests/test_options.py::TestStrikeSelection::test_find_otm_put PASSED     [ 75%]
tests/test_options.py::TestStrikeSelection::test_delta_targeting PASSED  [ 75%]
tests/test_options.py::TestPositionSizing::test_long_call_sizing PASSED  [ 75%]
tests/test_options.py::TestPositionSizing::test_long_put_sizing PASSED   [ 75%]
tests/test_options.py::TestPositionSizing::test_max_contracts_calculation PASSED [ 75%]
tests/test_options.py::TestPositionSizing::test_insufficient_equity PASSED [ 75%]
tests/test_options.py::TestPositionSizing::test_direction_long PASSED    [ 75%]
tests/test_options.py::TestPositionSizing::test_risk_pct_enforcement PASSED [ 75%]
tests/test_options.py::TestConvenienceFunctions::test_calculate_option_price PASSED [ 75%]
tests/test_options.py::TestConvenienceFunctions::test_calculate_greeks PASSED [ 75%]
tests/test_pipelines.py::TestPipelineImports::test_import_base_pipeline PASSED [ 75%]
tests/test_pipelines.py::TestPipelineImports::test_import_universe_pipeline PASSED [ 76%]
tests/test_pipelines.py::TestPipelineImports::test_import_data_audit_pipeline PASSED [ 76%]
tests/test_pipelines.py::TestPipelineImports::test_import_discovery_pipeline PASSED [ 76%]
tests/test_pipelines.py::TestPipelineImports::test_import_spec_pipeline PASSED [ 76%]
tests/test_pipelines.py::TestPipelineImports::test_import_backtest_pipeline PASSED [ 76%]
tests/test_pipelines.py::TestPipelineImports::test_import_gates_pipeline PASSED [ 76%]
tests/test_pipelines.py::TestPipelineRegistry::test_pipeline_registry_exists PASSED [ 76%]
tests/test_pipelines.py::TestPipelineRegistry::test_pipeline_registry_has_10_pipelines PASSED [ 76%]
tests/test_pipelines.py::TestPipelineRegistry::test_get_pipeline_function PASSED [ 76%]
tests/test_pipelines.py::TestPipelineRegistry::test_get_pipeline_raises_for_unknown PASSED [ 76%]
tests/test_pipelines.py::TestPipelineResult::test_pipeline_result_creation PASSED [ 76%]
tests/test_pipelines.py::TestPipelineResult::test_pipeline_result_to_dict PASSED [ 76%]
tests/test_pipelines.py::TestBasePipeline::test_pipeline_has_required_methods PASSED [ 76%]
tests/test_pipelines.py::TestBasePipeline::test_pipeline_helper_methods PASSED [ 76%]
tests/test_research.py::TestFeatureExtractor::test_import PASSED         [ 76%]
tests/test_research.py::TestFeatureExtractor::test_feature_count PASSED  [ 76%]
tests/test_research.py::TestFeatureExtractor::test_extract_single_feature PASSED [ 77%]
tests/test_research.py::TestFeatureExtractor::test_extract_multiple_features PASSED [ 77%]
tests/test_research.py::TestFeatureExtractor::test_zscore_features PASSED [ 77%]
tests/test_research.py::TestFeatureExtractor::test_no_lookahead PASSED   [ 77%]
tests/test_research.py::TestAlphaLibrary::test_import PASSED             [ 77%]
tests/test_research.py::TestAlphaLibrary::test_alpha_count PASSED        [ 77%]
tests/test_research.py::TestAlphaLibrary::test_compute_single_alpha PASSED [ 77%]
tests/test_research.py::TestAlphaLibrary::test_compute_all_alphas PASSED [ 77%]
tests/test_research.py::TestAlphaLibrary::test_alpha_categories PASSED   [ 77%]
tests/test_research.py::TestAlphaLibrary::test_multi_symbol_alpha PASSED [ 77%]
tests/test_research.py::TestEvidenceGate::test_import PASSED             [ 77%]
tests/test_research.py::TestEvidenceGate::test_quick_check_pass PASSED   [ 77%]
tests/test_research.py::TestEvidenceGate::test_quick_check_fail PASSED   [ 77%]
tests/test_research.py::TestEvidenceGate::test_full_evaluation PASSED    [ 77%]
tests/test_research.py::TestAlphaScreener::test_import PASSED            [ 77%]
tests/test_research.py::TestAlphaScreener::test_screen_basic PASSED      [ 77%]
tests/test_research.py::TestAlphaScreener::test_leaderboard PASSED       [ 77%]
tests/test_safety_mode.py::TestSafetyMode::test_paper_only_is_true PASSED [ 78%]
tests/test_safety_mode.py::TestSafetyMode::test_get_trading_mode_returns_dict PASSED [ 78%]
tests/test_safety_mode.py::TestSafetyMode::test_is_paper_mode_returns_bool PASSED [ 78%]
tests/test_safety_mode.py::TestSafetyMode::test_assert_paper_only_does_not_raise_normally PASSED [ 78%]
tests/test_safety_mode.py::TestSafetyMode::test_safety_module_exports PASSED [ 78%]
tests/test_safety_mode.py::TestSafetyMode::test_trading_mode_enum_values PASSED [ 78%]
tests/test_safety_mode.py::TestKillSwitch::test_kill_switch_detection PASSED [ 78%]
tests/test_safety_mode.py::TestKillSwitch::test_kill_switch_check_function PASSED [ 78%]
tests/test_safety_mode.py::TestValidateOrderAllowed::test_validate_order_allowed_returns_dict PASSED [ 78%]
tests/test_safety_mode.py::TestValidateOrderAllowed::test_paper_orders_allowed PASSED [ 78%]
tests/test_scanner_determinism.py::TestScannerDeterminism::test_scanner_produces_identical_output_3x SKIPPEDytest
tests/test_scanner_determinism.py -v -m slow --run-slow)                 [ 78%]
tests/test_scanner_determinism.py::TestScannerDeterminism::test_deterministic_flag_affects_output SKIPPEDytest tests/test_scanner_determinism.py
-v -m slow --run-slow)                                                   [ 78%]
tests/test_scanner_determinism.py::TestSortingDeterminism::test_sort_values_with_tiebreaker PASSED [ 78%]
tests/test_scanner_determinism.py::TestSortingDeterminism::test_set_vs_sorted_iteration PASSED [ 78%]
tests/test_scanner_determinism.py::TestSortingDeterminism::test_glob_sorted_produces_deterministic_order PASSED [ 78%]
tests/test_scanner_determinism.py::TestExperienceReplayDeterminism::test_experience_replay_seeded_sampling PASSED [ 78%]
tests/unit/test_backtest.py::TestBacktester::test_backtester_import PASSED [ 78%]
tests/unit/test_backtest.py::TestBacktester::test_backtest_config PASSED [ 79%]
tests/unit/test_backtest.py::TestBacktester::test_backtester_initialization PASSED [ 79%]
tests/unit/test_backtest.py::TestBacktester::test_backtester_empty_run PASSED [ 79%]
tests/unit/test_backtest.py::TestWalkForward::test_walk_forward_import PASSED [ 79%]
tests/unit/test_backtest.py::TestWalkForward::test_generate_splits PASSED [ 79%]
tests/unit/test_backtest.py::TestWalkForward::test_wf_split_dataclass PASSED [ 79%]
tests/unit/test_backtest.py::TestEquityCurve::test_no_trades_flat_equity PASSED [ 79%]
tests/unit/test_backtest.py::TestEquityCurve::test_winning_trade_increases_equity PASSED [ 79%]
tests/unit/test_backtest.py::TestEquityCurve::test_losing_trade_decreases_equity PASSED [ 79%]
tests/unit/test_core.py::TestHashChain::test_hash_chain_import PASSED    [ 79%]
tests/unit/test_core.py::TestHashChain::test_hash_chain_append PASSED    [ 79%]
tests/unit/test_core.py::TestHashChain::test_hash_chain_verification PASSED [ 79%]
tests/unit/test_core.py::TestHashChain::test_empty_chain_is_valid PASSED [ 79%]
tests/unit/test_core.py::TestHashChain::test_tamper_detection PASSED     [ 79%]
tests/unit/test_core.py::TestStructuredLog::test_structured_log_import PASSED [ 79%]
tests/unit/test_core.py::TestStructuredLog::test_log_event PASSED        [ 79%]
tests/unit/test_core.py::TestStructuredLog::test_log_levels PASSED       [ 79%]
tests/unit/test_core.py::TestIdempotencyStore::test_idempotency_store_import PASSED [ 80%]
tests/unit/test_core.py::TestIdempotencyStore::test_store_and_check PASSED [ 80%]
tests/unit/test_core.py::TestIdempotencyStore::test_duplicate_prevention PASSED [ 80%]
tests/unit/test_core.py::TestIdempotencyStore::test_nonexistent_key_returns_none PASSED [ 80%]
tests/unit/test_data.py::TestPolygonProvider::test_provider_import PASSED [ 80%]
tests/unit/test_data.py::TestPolygonProvider::test_polygon_config_defaults PASSED [ 80%]
tests/unit/test_data.py::TestPolygonProvider::test_fetch_returns_empty_without_key PASSED [ 80%]
tests/unit/test_data.py::TestPolygonProvider::test_cache_file_naming PASSED [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_loader_import PASSED   [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_load_universe_from_csv PASSED [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_universe_uppercases_symbols PASSED [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_universe_deduplication PASSED [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_universe_cap PASSED    [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_nonexistent_file_returns_empty PASSED [ 80%]
tests/unit/test_data.py::TestUniverseLoader::test_fallback_to_first_column PASSED [ 80%]
tests/unit/test_data.py::TestDataValidation::test_ohlcv_data_has_required_columns PASSED [ 80%]
tests/unit/test_data.py::TestDataValidation::test_high_gte_low PASSED    [ 80%]
tests/unit/test_data.py::TestDataValidation::test_high_gte_open_close PASSED [ 81%]
tests/unit/test_data.py::TestDataValidation::test_low_lte_open_close PASSED [ 81%]
tests/unit/test_data.py::TestDataValidation::test_volume_positive PASSED [ 81%]
tests/unit/test_data.py::TestDataValidation::test_no_missing_values PASSED [ 81%]
tests/unit/test_decision_packet.py::TestExecutionPlan::test_basic_plan PASSED [ 81%]
tests/unit/test_decision_packet.py::TestRiskGateResult::test_passed_gate PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_basic_packet PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_packet_hash_consistency PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_to_json PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_save_and_load PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_with_execution_plan PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_with_risk_gates PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_field_presence PASSED [ 81%]
tests/unit/test_decision_packet.py::TestDecisionPacket::test_unknowns_tracking PASSED [ 81%]
tests/unit/test_decision_packet.py::TestBuildDecisionPacket::test_minimal_build PASSED [ 81%]
tests/unit/test_decision_packet.py::TestBuildDecisionPacket::test_full_build PASSED [ 81%]
tests/unit/test_decision_packet.py::TestBuildDecisionPacket::test_historical_analogs PASSED [ 81%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_basic_packet PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_packet_with_indicators PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_packet_with_ml_predictions PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_packet_with_enriched_signal PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_packet_with_risk_checks PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_packet_with_strategy_params PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_create_packet_with_context PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestDecisionPacketCreation::test_packet_save_and_load PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestRunPaperTradeIntegration::test_decision_packet_created_on_order PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestRunPaperTradeIntegration::test_all_ml_models_captured PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestRunPaperTradeIntegration::test_enrichment_fields_preserved PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestRunPaperTradeIntegration::test_position_sizing_multipliers_captured PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestRunPaperTradeIntegration::test_packet_serialization_roundtrip PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestPacketFilenameFormat::test_filename_contains_date_symbol_id PASSED [ 82%]
tests/unit/test_decision_packet_integration.py::TestPacketFilenameFormat::test_multiple_packets_same_directory PASSED [ 82%]
tests/unit/test_earnings_filter.py::TestFetchEarningsDates::test_returns_empty_without_api_key_no_fallback PASSED [ 82%]
tests/unit/test_earnings_filter.py::TestFetchEarningsDates::test_returns_empty_without_api_key PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestFetchEarningsDates::test_uses_memory_cache PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestFetchEarningsDates::test_normalizes_symbol_to_uppercase PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestIsNearEarnings::test_returns_false_when_disabled PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestIsNearEarnings::test_detects_day_before_earnings PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestIsNearEarnings::test_detects_day_after_earnings PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestIsNearEarnings::test_detects_earnings_day PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestIsNearEarnings::test_allows_date_outside_window PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestIsNearEarnings::test_returns_false_for_unknown_symbol PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestFilterSignalsByEarnings::test_returns_all_when_disabled PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestFilterSignalsByEarnings::test_filters_near_earnings_signals PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestFilterSignalsByEarnings::test_handles_string_timestamps PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestGetBlackoutDates::test_returns_blackout_dates PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestGetBlackoutDates::test_respects_date_range PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestClearCache::test_clears_memory_cache PASSED [ 83%]
tests/unit/test_earnings_filter.py::TestClearCache::test_removes_cache_file PASSED [ 83%]
tests/unit/test_execution_guard.py::TestQuoteFreshness::test_fresh_quote PASSED [ 83%]
tests/unit/test_execution_guard.py::TestQuoteFreshness::test_stale_quote PASSED [ 84%]
tests/unit/test_execution_guard.py::TestQuoteFreshness::test_future_quote PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSpreadValidation::test_acceptable_spread PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSpreadValidation::test_wide_spread PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSpreadValidation::test_crossed_market PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSpreadValidation::test_zero_prices PASSED [ 84%]
tests/unit/test_execution_guard.py::TestQuoteValidity::test_valid_quote PASSED [ 84%]
tests/unit/test_execution_guard.py::TestQuoteValidity::test_missing_bid PASSED [ 84%]
tests/unit/test_execution_guard.py::TestQuoteValidity::test_missing_ask PASSED [ 84%]
tests/unit/test_execution_guard.py::TestQuoteValidity::test_negative_prices PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSizeLimits::test_valid_size PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSizeLimits::test_zero_quantity PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSizeLimits::test_order_too_small PASSED [ 84%]
tests/unit/test_execution_guard.py::TestSizeLimits::test_order_too_large PASSED [ 84%]
tests/unit/test_execution_guard.py::TestFullCheck::test_disabled_guard PASSED [ 84%]
tests/unit/test_execution_guard.py::TestFullCheck::test_passed_check PASSED [ 84%]
tests/unit/test_execution_guard.py::TestFullCheck::test_rejected_wide_spread PASSED [ 84%]
tests/unit/test_execution_guard.py::TestFullCheck::test_stand_down_stale_quote PASSED [ 85%]
tests/unit/test_execution_guard.py::TestFullCheck::test_stand_down_no_quote PASSED [ 85%]
tests/unit/test_execution_guard.py::TestFullCheck::test_price_sanity_check PASSED [ 85%]
tests/unit/test_execution_guard.py::TestFullCheck::test_from_config PASSED [ 85%]
tests/unit/test_execution_guard.py::TestGuardCheckResult::test_to_dict PASSED [ 85%]
tests/unit/test_execution_guard.py::TestGuardCheckResult::test_timestamp_auto_generated PASSED [ 85%]
tests/unit/test_fill_models.py::TestAlwaysFillModel::test_always_fills PASSED [ 85%]
tests/unit/test_fill_models.py::TestAlwaysFillModel::test_sell_always_fills PASSED [ 85%]
tests/unit/test_fill_models.py::TestLimitOrderFillModel::test_buy_fills_when_price_touches PASSED [ 85%]
tests/unit/test_fill_models.py::TestLimitOrderFillModel::test_buy_no_fill_when_price_above PASSED [ 85%]
tests/unit/test_fill_models.py::TestLimitOrderFillModel::test_sell_fills_when_price_touches PASSED [ 85%]
tests/unit/test_fill_models.py::TestLimitOrderFillModel::test_sell_no_fill_when_price_below PASSED [ 85%]
tests/unit/test_fill_models.py::TestLimitOrderFillModel::test_gap_through_limit PASSED [ 85%]
tests/unit/test_fill_models.py::TestProbabilisticFillModel::test_high_probability_fills PASSED [ 85%]
tests/unit/test_fill_models.py::TestProbabilisticFillModel::test_zero_probability_no_fill PASSED [ 85%]
tests/unit/test_fill_models.py::TestProbabilisticFillModel::test_limit_below_range_no_fill PASSED [ 85%]
tests/unit/test_fill_models.py::TestProbabilisticFillModel::test_limit_above_range_guaranteed_fill PASSED [ 85%]
tests/unit/test_fill_models.py::TestPartialFillModel::test_small_order_full_fill PASSED [ 86%]
tests/unit/test_fill_models.py::TestPartialFillModel::test_large_order_partial_fill PASSED [ 86%]
tests/unit/test_fill_models.py::TestPartialFillModel::test_no_volume_falls_back PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillModelFactory::test_create_always_fill PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillModelFactory::test_create_limit_order PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillModelFactory::test_create_probabilistic PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillModelFactory::test_create_partial_fill PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillModelFactory::test_unknown_type PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillModelFactory::test_default_model PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillResult::test_fill_result_properties PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillResult::test_partial_fill_result PASSED [ 86%]
tests/unit/test_fill_models.py::TestFillResult::test_no_fill_result PASSED [ 86%]
tests/unit/test_lineage.py::TestHashFunctions::test_file_hash PASSED     [ 86%]
tests/unit/test_lineage.py::TestHashFunctions::test_file_hash_different_content PASSED [ 86%]
tests/unit/test_lineage.py::TestHashFunctions::test_directory_hash PASSED [ 86%]
tests/unit/test_lineage.py::TestHashFunctions::test_dataset_hash PASSED  [ 86%]
tests/unit/test_lineage.py::TestHashFunctions::test_dataset_hash_missing_file PASSED [ 86%]
tests/unit/test_lineage.py::TestHashFunctions::test_model_hash PASSED    [ 87%]
tests/unit/test_lineage.py::TestHashFunctions::test_decision_hash PASSED [ 87%]
tests/unit/test_lineage.py::TestHashFunctions::test_order_hash PASSED    [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_record_dataset PASSED [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_record_model PASSED [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_record_decision PASSED [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_record_order PASSED [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_get_lineage PASSED  [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_verify_lineage PASSED [ 87%]
tests/unit/test_lineage.py::TestLineageTracker::test_persistence PASSED  [ 87%]
tests/unit/test_lineage.py::TestLinkLineage::test_link_full_lineage PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_weekend_detection PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_holiday_detection PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_early_close_detection PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_trading_day PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_market_open PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_session_info PASSED [ 87%]
tests/unit/test_market_clock.py::TestEquitiesCalendar::test_next_trading_day PASSED [ 88%]
tests/unit/test_market_clock.py::TestCryptoClock::test_always_open PASSED [ 88%]
tests/unit/test_market_clock.py::TestCryptoClock::test_continuous_session PASSED [ 88%]
tests/unit/test_market_clock.py::TestCryptoClock::test_next_scan_aligned PASSED [ 88%]
tests/unit/test_market_clock.py::TestCryptoClock::test_scan_times_for_day PASSED [ 88%]
tests/unit/test_market_clock.py::TestOptionsEventClock::test_monthly_expiry PASSED [ 88%]
tests/unit/test_market_clock.py::TestOptionsEventClock::test_is_expiry_day PASSED [ 88%]
tests/unit/test_market_clock.py::TestOptionsEventClock::test_weekly_expiries PASSED [ 88%]
tests/unit/test_market_clock.py::TestMacroEventCalendar::test_fomc_day PASSED [ 88%]
tests/unit/test_market_clock.py::TestMacroEventCalendar::test_fomc_week PASSED [ 88%]
tests/unit/test_market_clock.py::TestMacroEventCalendar::test_next_fomc PASSED [ 88%]
tests/unit/test_market_clock.py::TestMacroEventCalendar::test_high_volatility_period PASSED [ 88%]
tests/unit/test_market_clock.py::TestMarketClock::test_create_from_config PASSED [ 88%]
tests/unit/test_market_clock.py::TestMarketClock::test_market_open_equities PASSED [ 88%]
tests/unit/test_market_clock.py::TestMarketClock::test_market_open_crypto PASSED [ 88%]
tests/unit/test_market_clock.py::TestMarketClock::test_next_event_equities PASSED [ 88%]
tests/unit/test_market_clock.py::TestMarketClock::test_next_event_any PASSED [ 89%]
tests/unit/test_market_clock.py::TestMarketEvent::test_event_ordering PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_import PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_compute_all_returns_dataframe PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_momentum_features_added PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_volatility_features_added PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_trend_features_added PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_volume_features_added PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_shift_prevents_lookahead PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_empty_dataframe_returns_empty PASSED [ 89%]
tests/unit/test_ml_features.py::TestTechnicalFeatures::test_missing_columns_handled PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_import PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_detect_all_returns_dataframe PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_anomaly_scores_bounded PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_high_volatility_detected PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_volume_spike_detected PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_get_anomalies_returns_list PASSED [ 89%]
tests/unit/test_ml_features.py::TestAnomalyDetection::test_insufficient_data_handled PASSED [ 90%]
tests/unit/test_ml_features.py::TestFeaturePipeline::test_import PASSED  [ 90%]
tests/unit/test_ml_features.py::TestFeaturePipeline::test_extract_returns_dataframe PASSED [ 90%]
tests/unit/test_ml_features.py::TestFeaturePipeline::test_price_patterns_added PASSED [ 90%]
tests/unit/test_ml_features.py::TestFeaturePipeline::test_feature_caching PASSED [ 90%]
tests/unit/test_ml_features.py::TestFeaturePipeline::test_get_feature_names PASSED [ 90%]
tests/unit/test_ml_features.py::TestFeaturePipeline::test_clear_cache PASSED [ 90%]
tests/unit/test_ml_features.py::TestSignalConfidence::test_import PASSED [ 90%]
tests/unit/test_ml_features.py::TestSignalConfidence::test_score_returns_result PASSED [ 90%]
tests/unit/test_ml_features.py::TestSignalConfidence::test_confidence_bounded PASSED [ 90%]
tests/unit/test_ml_features.py::TestSignalConfidence::test_score_signals_batch PASSED [ 90%]
tests/unit/test_ml_features.py::TestSignalConfidence::test_low_rsi_increases_long_confidence PASSED [ 90%]
tests/unit/test_ml_features.py::TestSignalConfidence::test_reasons_generated PASSED [ 90%]
tests/unit/test_ml_features.py::TestRegimeML::test_import PASSED         [ 90%]
tests/unit/test_ml_features.py::TestRegimeML::test_fit_returns_self PASSED [ 90%]
tests/unit/test_ml_features.py::TestRegimeML::test_detect_returns_dataframe PASSED [ 90%]
tests/unit/test_ml_features.py::TestRegimeML::test_get_current_regime_returns_result PASSED [ 90%]
tests/unit/test_ml_features.py::TestRegimeML::test_bull_trend_detected PASSED [ 91%]
tests/unit/test_ml_features.py::TestRegimeML::test_bear_trend_detected PASSED [ 91%]
tests/unit/test_ml_features.py::TestRegimeML::test_high_volatility_detected PASSED [ 91%]
tests/unit/test_ml_features.py::TestRegimeML::test_insufficient_data_handled PASSED [ 91%]
tests/unit/test_ml_features.py::TestStrategyEnhancer::test_import PASSED [ 91%]
tests/unit/test_ml_features.py::TestStrategyEnhancer::test_enhancer_wraps_strategy PASSED [ 91%]
tests/unit/test_ml_features.py::TestStrategyEnhancer::test_confidence_added_to_signals PASSED [ 91%]
tests/unit/test_ml_features.py::TestStrategyEnhancer::test_low_confidence_filtered PASSED [ 91%]
tests/unit/test_ml_features.py::TestStrategyEnhancer::test_get_stats_returns_dict PASSED [ 91%]
tests/unit/test_ml_features.py::TestStrategyEnhancer::test_enhance_strategy_function PASSED [ 91%]
tests/unit/test_ml_features.py::TestConvenienceFunctions::test_compute_momentum_features PASSED [ 91%]
tests/unit/test_ml_features.py::TestConvenienceFunctions::test_compute_volatility_features PASSED [ 91%]
tests/unit/test_ml_features.py::TestConvenienceFunctions::test_detect_price_anomalies PASSED [ 91%]
tests/unit/test_ml_features.py::TestConvenienceFunctions::test_compute_signal_confidence PASSED [ 91%]
tests/unit/test_ml_features.py::TestConvenienceFunctions::test_detect_regime_ml PASSED [ 91%]
tests/unit/test_ml_features.py::TestConvenienceFunctions::test_extract_all_features PASSED [ 91%]
tests/unit/test_playbook_generator.py::TestPlaybook::test_basic_playbook PASSED [ 91%]
tests/unit/test_playbook_generator.py::TestPlaybookGenerator::test_generate_deterministic PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookGenerator::test_executive_summary_content PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookGenerator::test_risk_section_content PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookGenerator::test_execution_plan_in_playbook PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookGenerator::test_unknowns_tracked PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookGenerator::test_no_fabrication PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookWithHistoricalAnalogs::test_analogs_included PASSED [ 92%]
tests/unit/test_playbook_generator.py::TestPlaybookChecklist::test_checklist_generation PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskLimits::test_default_limits PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskLimits::test_custom_limits PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestPortfolioState::test_empty_portfolio PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestPortfolioState::test_with_positions PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestSectorMapper::test_unknown_sector PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestSectorMapper::test_add_mapping PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestSectorMapper::test_load_from_csv PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestCorrelationAnalyzer::test_compute_correlation PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestCorrelationAnalyzer::test_identify_clusters PASSED [ 92%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_disabled_gate PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_gross_exposure_limit PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_single_name_limit PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_sector_limit PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_position_count_limit PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_approved_trade PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_warning_status PASSED [ 93%]
tests/unit/test_portfolio_risk.py::TestPortfolioRiskGate::test_from_config PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_initial_capacity PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_acquire_decrements_tokens PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_try_acquire_non_blocking PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_refill_over_time PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_capacity_limit PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_acquire_timeout PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestTokenBucket::test_thread_safety PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestRateLimitedDecorator::test_decorator_passes_through PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestRateLimitedDecorator::test_decorator_preserves_metadata PASSED [ 93%]
tests/unit/test_rate_limiter.py::TestWaitForRateLimit::test_returns_true_when_disabled PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestWithRetry::test_succeeds_on_first_try PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestWithRetry::test_retries_on_rate_limit_error PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestWithRetry::test_retries_on_429_error PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestWithRetry::test_raises_after_max_retries PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestWithRetry::test_non_retryable_error_raises_immediately PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestWithRetry::test_exponential_backoff PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestRateLimitExceeded::test_exception_message PASSED [ 94%]
tests/unit/test_rate_limiter.py::TestRateLimitExceeded::test_exception_inheritance PASSED [ 94%]
tests/unit/test_reconciliation.py::TestBrokerPosition::test_basic_position PASSED [ 94%]
tests/unit/test_reconciliation.py::TestOMSPosition::test_basic_position PASSED [ 94%]
tests/unit/test_reconciliation.py::TestDiscrepancy::test_quantity_mismatch PASSED [ 94%]
tests/unit/test_reconciliation.py::TestDiscrepancy::test_to_dict PASSED  [ 94%]
tests/unit/test_reconciliation.py::TestReconciler::test_initialization PASSED [ 94%]
tests/unit/test_reconciliation.py::TestReconciler::test_detect_quantity_mismatch PASSED [ 94%]
tests/unit/test_reconciliation.py::TestReconciler::test_detect_missing_in_oms PASSED [ 94%]
tests/unit/test_reconciliation.py::TestReconciler::test_detect_missing_in_broker PASSED [ 95%]
tests/unit/test_reconciliation.py::TestReconciler::test_detect_price_mismatch PASSED [ 95%]
tests/unit/test_reconciliation.py::TestReconciler::test_no_discrepancies PASSED [ 95%]
tests/unit/test_reconciliation.py::TestReconciler::test_detect_partial_fills PASSED [ 95%]
tests/unit/test_reconciliation.py::TestReconciliationReport::test_report_creation PASSED [ 95%]
tests/unit/test_reconciliation.py::TestReconciliationReport::test_report_with_discrepancies PASSED [ 95%]
tests/unit/test_reconciliation.py::TestReconciliationReport::test_report_to_dict PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_empty_dataframe_returns_empty PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_returns_correct_columns PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_trend_filter_above_slow_sma PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_trend_filter_below_slow_sma PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_fast_sma_crossover PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_volatility_filter PASSED [ 95%]
tests/unit/test_regime_filter.py::TestComputeRegimeMask::test_low_volatility_passes PASSED [ 95%]
tests/unit/test_regime_filter.py::TestGetAllowedTimestamps::test_returns_empty_when_disabled PASSED [ 95%]
tests/unit/test_regime_filter.py::TestGetAllowedTimestamps::test_returns_allowed_dates PASSED [ 95%]
tests/unit/test_regime_filter.py::TestFilterSignalsByRegime::test_returns_all_when_disabled PASSED [ 95%]
tests/unit/test_regime_filter.py::TestFilterSignalsByRegime::test_returns_empty_for_empty_signals PASSED [ 96%]
tests/unit/test_regime_filter.py::TestFilterSignalsByRegime::test_filters_by_regime PASSED [ 96%]
tests/unit/test_regime_filter.py::TestConfigFunctions::test_get_regime_filter_config PASSED [ 96%]
tests/unit/test_regime_filter.py::TestConfigFunctions::test_is_regime_filter_enabled PASSED [ 96%]
tests/unit/test_regime_filter.py::TestEdgeCases::test_handles_nan_values PASSED [ 96%]
tests/unit/test_regime_filter.py::TestEdgeCases::test_handles_insufficient_data PASSED [ 96%]
tests/unit/test_regime_filter.py::TestEdgeCases::test_handles_zero_volatility PASSED [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_policy_gate_import PASSED  [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_risk_limits_defaults PASSED [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_policy_gate_initialization PASSED [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_order_within_budget_passes PASSED [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_order_exceeds_per_order_budget_fails PASSED [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_daily_loss_limit PASSED    [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_reset_daily PASSED         [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_price_bounds PASSED        [ 96%]
tests/unit/test_risk.py::TestPolicyGate::test_shorts_disabled_by_default PASSED [ 96%]
tests/unit/test_risk.py::TestKillSwitch::test_kill_switch_not_active_by_default PASSED [ 96%]
tests/unit/test_risk.py::TestKillSwitch::test_kill_switch_blocks_trading PASSED [ 97%]
tests/unit/test_risk.py::TestKillSwitch::test_kill_switch_can_be_deactivated PASSED [ 97%]
tests/unit/test_risk.py::TestPositionSizing::test_fixed_dollar_sizing PASSED [ 97%]
tests/unit/test_risk.py::TestPositionSizing::test_position_size_respects_max_pct PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limit_gate_import PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limits_defaults PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limit_gate_initialization PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limit_gate_check_returns_tuple PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limit_gate_get_status PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limit_gate_clear_cache PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_get_position_limit_gate_singleton PASSED [ 97%]
tests/unit/test_risk.py::TestPositionLimitGate::test_position_limit_export_from_risk PASSED [ 97%]
tests/unit/test_slippage_models.py::TestZeroSlippage::test_no_slippage PASSED [ 97%]
tests/unit/test_slippage_models.py::TestFixedBpsSlippage::test_default_5bps PASSED [ 97%]
tests/unit/test_slippage_models.py::TestFixedBpsSlippage::test_custom_bps PASSED [ 97%]
tests/unit/test_slippage_models.py::TestFixedBpsSlippage::test_buy_adds_slippage PASSED [ 97%]
tests/unit/test_slippage_models.py::TestFixedBpsSlippage::test_sell_subtracts_slippage PASSED [ 97%]
tests/unit/test_slippage_models.py::TestATRFractionSlippage::test_with_atr PASSED [ 98%]
tests/unit/test_slippage_models.py::TestATRFractionSlippage::test_fallback_without_atr PASSED [ 98%]
tests/unit/test_slippage_models.py::TestATRFractionSlippage::test_zero_atr PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSpreadPercentileSlippage::test_with_spread PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSpreadPercentileSlippage::test_with_spread_pct PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSpreadPercentileSlippage::test_estimated_spread PASSED [ 98%]
tests/unit/test_slippage_models.py::TestVolumeImpactSlippage::test_small_order PASSED [ 98%]
tests/unit/test_slippage_models.py::TestVolumeImpactSlippage::test_large_order PASSED [ 98%]
tests/unit/test_slippage_models.py::TestVolumeImpactSlippage::test_max_cap PASSED [ 98%]
tests/unit/test_slippage_models.py::TestVolumeImpactSlippage::test_fallback_no_volume PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_create_zero PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_create_fixed_bps PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_create_atr_fraction PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_create_spread_percentile PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_create_volume_impact PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_unknown_type PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageFactory::test_default_model PASSED [ 98%]
tests/unit/test_slippage_models.py::TestSlippageResult::test_slippage_pct PASSED [ 99%]
tests/unit/test_strategies.py::TestDualStrategyScanner::test_scanner_import PASSED [ 99%]
tests/unit/test_strategies.py::TestDualStrategyScanner::test_signal_generation PASSED [ 99%]
tests/unit/test_strategies.py::TestDualStrategyScanner::test_scanner_has_required_methods PASSED [ 99%]
tests/unit/test_strategies.py::TestStrategyRegistry::test_get_production_scanner PASSED [ 99%]
tests/unit/test_strategies.py::TestStrategyRegistry::test_verified_performance_metadata PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_read_root PASSED    [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_bot_status PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_bot_status_error PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_cognitive_system_status PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_cognitive_system_status_error PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_recent_reflections PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_recent_reflections_error PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_recent_tca PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_recent_tca_error PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_ai_self_description PASSED [ 99%]
tests/web/test_main.py::TestDashboardEndpoints::test_get_ai_self_description_error PASSED [100%]

============================== warnings summary ===============================
cognitive\__init__.py:46
  C:\Users\Owner\OneDrive\Desktop\kobe81_traderbot\cognitive\__init__.py:46: DeprecationWarning: cognitive.cognitive_brain.CognitiveBrain is DEPRECATED. Use autonomous.brain.AutonomousBrain instead for 24/7 autonomous operation. This module will continue to work but is no longer the primary brain.
    from cognitive.cognitive_brain import CognitiveBrain, get_cognitive_brain

ml_features\__init__.py:58
  C:\Users\Owner\OneDrive\Desktop\kobe81_traderbot\ml_features\__init__.py:58: DeprecationWarning: ml_features.ensemble_brain.EnsembleBrain is DEPRECATED as a standalone brain. Use autonomous.brain.AutonomousBrain instead, which integrates ensemble predictions. This module will continue to provide ML predictions but is not the primary decision maker.
    from .ensemble_brain import (

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
========== 1665 passed, 18 skipped, 2 warnings in 353.28s (0:05:53) ===========
